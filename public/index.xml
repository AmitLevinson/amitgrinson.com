<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Amit Levinson</title>
    <link>/</link>
      <atom:link href="/index.xml" rel="self" type="application/rss+xml" />
    <description>Amit Levinson</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><copyright>Â© Amit Levinson 2020</copyright><lastBuildDate>Thu, 28 Jun 2018 00:00:00 +0100</lastBuildDate>
    <image>
      <url>/images/icon_hudc5a425b3e555d4faa8838526864126b_16079_512x512_fill_lanczos_center_2.png</url>
      <title>Amit Levinson</title>
      <link>/</link>
    </image>
    
    <item>
      <title>Example Page 1</title>
      <link>/courses/example/example1/</link>
      <pubDate>Sun, 05 May 2019 00:00:00 +0100</pubDate>
      <guid>/courses/example/example1/</guid>
      <description>&lt;p&gt;In this tutorial, I&amp;rsquo;ll share my top 10 tips for getting started with Academic:&lt;/p&gt;
&lt;h2 id=&#34;tip-1&#34;&gt;Tip 1&lt;/h2&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.&lt;/p&gt;
&lt;p&gt;Nullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.&lt;/p&gt;
&lt;p&gt;Cras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.&lt;/p&gt;
&lt;p&gt;Suspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.&lt;/p&gt;
&lt;p&gt;Aliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.&lt;/p&gt;
&lt;h2 id=&#34;tip-2&#34;&gt;Tip 2&lt;/h2&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.&lt;/p&gt;
&lt;p&gt;Nullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.&lt;/p&gt;
&lt;p&gt;Cras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.&lt;/p&gt;
&lt;p&gt;Suspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.&lt;/p&gt;
&lt;p&gt;Aliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Example Page 2</title>
      <link>/courses/example/example2/</link>
      <pubDate>Sun, 05 May 2019 00:00:00 +0100</pubDate>
      <guid>/courses/example/example2/</guid>
      <description>&lt;p&gt;Here are some more tips for getting started with Academic:&lt;/p&gt;
&lt;h2 id=&#34;tip-3&#34;&gt;Tip 3&lt;/h2&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.&lt;/p&gt;
&lt;p&gt;Nullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.&lt;/p&gt;
&lt;p&gt;Cras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.&lt;/p&gt;
&lt;p&gt;Suspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.&lt;/p&gt;
&lt;p&gt;Aliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.&lt;/p&gt;
&lt;h2 id=&#34;tip-4&#34;&gt;Tip 4&lt;/h2&gt;
&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.&lt;/p&gt;
&lt;p&gt;Nullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.&lt;/p&gt;
&lt;p&gt;Cras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.&lt;/p&gt;
&lt;p&gt;Suspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.&lt;/p&gt;
&lt;p&gt;Aliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Hosting interactive graphs online</title>
      <link>/2020/05/01/sharing-interactive-charts/</link>
      <pubDate>Fri, 01 May 2020 00:00:00 +0000</pubDate>
      <guid>/2020/05/01/sharing-interactive-charts/</guid>
      <description>


&lt;style&gt;
p.caption {
  font-size: 0.8em;
}
&lt;/style&gt;
&lt;div class=&#34;figure&#34; style=&#34;text-align: center&#34;&gt;&lt;span id=&#34;fig:unnamed-chunk-1&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;header.gif&#34; alt=&#34;No more sending html files - Host your interactive graphs online with GitHub pages&#34; width=&#34;80%&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 1: No more sending html files - Host your interactive graphs online with GitHub pages
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;background&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Background&lt;/h3&gt;
&lt;p&gt;A few weeks ago I gave my first talk about &lt;a href=&#34;https://amitlevinson.com/talk/israel-2050/&#34;&gt;analyzing and visualizing data in R&lt;/a&gt;. I shared with participants - political activists - many of Râ€™s abilities, one of them creating â€˜interactive visualizationsâ€™ which I very much like. I believe interactive graphs provide some edge to a static graph when used appropriately. The first time I created an interactive graph was probably for &lt;a href=&#34;https://github.com/rfordatascience/tidytuesday&#34;&gt;#TidyTuesday&lt;/a&gt;, which left me with the question &lt;strong&gt;how to provide others the ability to interact with it?&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;tldr&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;TL;DR&lt;/h3&gt;
&lt;p&gt;For those who already have a rendered html file:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Push the rendered html file to GitHub repository.&lt;br /&gt;
&lt;/li&gt;
&lt;li&gt;Go into your GitHub repository where the html file is located.&lt;br /&gt;
&lt;/li&gt;
&lt;li&gt;On the top right click &lt;code&gt;Settings&lt;/code&gt; &lt;i class=&#34;fas fa-arrow-right&#34;&gt;&lt;/i&gt; Scroll down to &lt;code&gt;Github Pages&lt;/code&gt; section &lt;i class=&#34;fas fa-arrow-right&#34;&gt;&lt;/i&gt; instead of &lt;code&gt;none&lt;/code&gt; choose &lt;code&gt;master branch&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Thatâ€™s it! You can now find your html widget under &lt;span style=&#34;color:RoyalBlue;&#34;&gt;username.GitHub.io/repo-name/file.html&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;why-host-it-online&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Why host it online?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sending html &lt;strong&gt;files&lt;/strong&gt; of your new interactive graph can be cumbersome, especially if itâ€™s a work in progress with updated versions you keep sending. no more &lt;code&gt;html_4_final_final&lt;/code&gt; kind of files - Seriously, not cool.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;You participated on &lt;a href=&#34;https://github.com/rfordatascience/tidytuesday&#34;&gt;#Tidytuesday&lt;/a&gt; and want to share your graph for others to explore themselves. In this case I recommend recording a gif or video where you interact with the graph and also host the file online for others to explore.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Because once you set up your GitHub page up, itâ€™s just 2 more lines of code saving it as a file and pushing it to your repository.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are many great tutorials for hosting slides and static files online that you can find &lt;a href=&#34;https://community.rstudio.com/t/deploy-xaringan-slides-to-github-pages/16459&#34;&gt;here&lt;/a&gt;, &lt;a href=&#34;https://github.com/tcgriffith/xaringan_gh&#34;&gt;here&lt;/a&gt;, and &lt;a href=&#34;https://annaken.github.io/hosting-revealjs-presentation-github-pages/&#34;&gt;here&lt;/a&gt;. I found these very useful for hosting slides from the talk I gave and wanted to share that same tutorial aimed at hosting &lt;code&gt;html&lt;/code&gt; graphs, technically the same file (html). The format is identical, but I remember when starting off with R I didnâ€™t know how. I was naive and just pushed my html file to GitHub thinking once itâ€™s there I can interact with it. Although itâ€™s pretty much that, we first need to turn our GitHub repository into a GitHub page.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://imgflip.com/i/3z9x4s&#34;&gt;&lt;img src=&#34;https://i.imgflip.com/3z9x4s.jpg&#34; title=&#34;made at imgflip.com&#34;/&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;saving-an-html-file&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Saving an html file&lt;/h3&gt;
&lt;p&gt;Saving an interactive graph - such as a &lt;code&gt;{leafly}&lt;/code&gt;, &lt;code&gt;{highcharter}&lt;/code&gt;, &lt;code&gt;{plotly}&lt;/code&gt; or any other interactive object - can be done with various packages. Here Iâ€™ll use the &lt;code&gt;{htmlwidgets}&lt;/code&gt; package since, in my opinion, its default settings nicely fit the browser page. You can also try out other packages and see what suits you (for e.g.Â &lt;code&gt;{htmltools}&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Letâ€™s take a #TidyTuesday dataset I used to create a &lt;code&gt;{highcharter}&lt;/code&gt; map of median GDPR fines. I wonâ€™t be running through the code for creating the graph, but you can find it &lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/2020/week17_gdpr/gdpr.R&#34;&gt;here&lt;/a&gt; if youâ€™re interested in it.&lt;/p&gt;
&lt;p&gt;We have our map ready and can interact with it &lt;strong&gt;within R&lt;/strong&gt;, as we can see in the gif below:&lt;/p&gt;
&lt;div class=&#34;figure&#34; style=&#34;text-align: center&#34;&gt;&lt;span id=&#34;fig:unnamed-chunk-2&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;interactive-in-r.gif&#34; alt=&#34;Our interactive graph is all set in R, What&#39;s next?&#34; width=&#34;80%&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 2: Our interactive graph is all set in R, Whatâ€™s next?
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;First, we want to render it into an html file. Make sure to save your graph into an object, letâ€™s say for this example our object is called â€˜hc_gdprâ€™. Before we save it using &lt;code&gt;htmlwidget::saveWidget&lt;/code&gt;, we can define how the graph will render on the webpage. If youâ€™d like to adjust itâ€™s width and height parameters, you can add them to the html object which is saved as a list, for e.g.:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;hc_gdpro$width &amp;lt;- &amp;quot;1400px&amp;quot;
hc_gdpro$height &amp;lt;- &amp;quot;700px&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And now we can write our file to our current working directory. The &lt;code&gt;knitrOptions&lt;/code&gt; takes our height and width configuration - Play around with it until itâ€™s satisfactory for you; depends for what I need it but I find the default settings - seems like 100% width and 100% height- adequate for my needs:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;saveWidget(hc-gdpr, &amp;quot;hc-gdpr.html&amp;quot;, selfcontained = TRUE, knitrOptions = list())&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;github-pages&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;GitHub pages &lt;i class=&#34;fab fa-github&#34;&gt;&lt;/i&gt;&lt;/h3&gt;
&lt;p&gt;Great, we now have a new html file containing our graph saved in our working directory. If you open it up it should run smoothly, only notice itâ€™s doing so on your local computer. If you send the file as is, it will work on someone elseâ€™s computer if even if they donâ€™t have &lt;code&gt;R&lt;/code&gt;. But what if we update our graph such as fix a typo? Thatâ€™s where hosting it online comes in.&lt;/p&gt;
&lt;p&gt;Weâ€™ll be hosting the html file on GitHub pages, so if youâ€™re not familiar with Git or working with GitHub through R I recommend following &lt;a href=&#34;https://happygitwithr.com/&#34;&gt;happygitwithr&lt;/a&gt; tutorial for getting your account set up.&lt;br /&gt;
You can open a new repository for hosting your html files, but I think using the one where you host your source code is better. For example, if itâ€™s a #TidyTuesday graph like the example here, I just push it along with my &lt;code&gt;R&lt;/code&gt; source code for that week. Make sure to include the html file, hosting only the code file (.R / .Rmd) wonâ€™t render it interactive; of course you can also host the html without the code (but hey, sharing is caring when it comes to open source).&lt;/p&gt;
&lt;div class=&#34;figure&#34; style=&#34;text-align: center&#34;&gt;&lt;span id=&#34;fig:unnamed-chunk-5&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;hosted.jpg&#34; alt=&#34;After writing your html object, push it to a GitHub repository&#34; width=&#34;80%&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 3: After writing your html object, push it to a GitHub repository
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Now that we have our file hosted we can assign our GitHub page: In the repository your html file is hosted, click on &lt;code&gt;Settings&lt;/code&gt; on the top right and scroll down until you reach the â€˜GitHub Pagesâ€™ section. There you want to enable the GitHub pages by changing the default â€˜Noneâ€™ to &lt;code&gt;master-branch&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;figure&#34; style=&#34;text-align: center&#34;&gt;&lt;span id=&#34;fig:unnamed-chunk-6&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;GitHub-pages.jpg&#34; alt=&#34;Turn your Github repository into a Github page&#34; width=&#34;80%&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 4: Turn your Github repository into a Github page
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Thatâ€™s it!&lt;/strong&gt;&lt;br /&gt;
You can find your hosted html file at &lt;span style=&#34;color:RoyalBlue;&#34;&gt;username.github.io/repo-name/file.html&lt;/span&gt;. For instance, the example I used for this blog post can be found here: &lt;a href=&#34;https://amitlevinson.github.io/TidyTuesday/2020/week17_gdpr/hc_gdpr.html&#34;&gt;https://amitlevinson.github.io/TidyTuesday/2020/week17_gdpr/hc_gdpr.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Once you have a GitHub page you can do so much more with it (such as host a personal website), but thatâ€™s for a different post altogether. If you want to learn more about adding a theme to GitHub pages check out &lt;a href=&#34;https://resources.github.com/whitepapers/github-and-rstudio/&#34;&gt;this post&lt;/a&gt; by GitHub.&lt;/p&gt;
&lt;p&gt;Another option to host your html file would be on &lt;a href=&#34;https://rpubs.com/&#34;&gt;Rpubs&lt;/a&gt;, but I find the GitHub page option more than adequate for my needs.&lt;/p&gt;
&lt;p&gt;Enjoy!&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Learning TFDIDF with cannabis effects</title>
      <link>/2020/04/30/tfidf-cannabis-type/</link>
      <pubDate>Thu, 30 Apr 2020 00:00:00 +0000</pubDate>
      <guid>/2020/04/30/tfidf-cannabis-type/</guid>
      <description>



</description>
    </item>
    
    <item>
      <title>Israeli elections on Twitter</title>
      <link>/2020/04/20/israeli-elections-on-twitter/</link>
      <pubDate>Mon, 20 Apr 2020 00:00:00 +0000</pubDate>
      <guid>/2020/04/20/israeli-elections-on-twitter/</guid>
      <description>


&lt;div id=&#34;introduction&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Introduction&lt;/h3&gt;
&lt;p&gt;Israel had its 3rd election within 12 months on March 2, 2020. This is because our Knesset - Hebrew term for house of representatives - wasnâ€™t able to form or hold a government after each of the previous elections. As I wonâ€™t get into the politics of why they didnâ€™t succeed in forming one (get it? politics ğŸ˜‰), I do want to take the opportunity and analyze some tweets posted in the time before and after the elections.&lt;br /&gt;
When we think of a data aggregating tweets, many questions arise - who, what, when, where and more about our data. Namely, with the collected data I want to answer the following questions:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;What was the frequency of tweets associated with the word â€˜electionsâ€™?&lt;/li&gt;
&lt;li&gt;Who tweeted the most?&lt;/li&gt;
&lt;li&gt;What was the most common #Hashtag tweeted?&lt;/li&gt;
&lt;li&gt;Which tweet was most liked and which was retweeted the most?&lt;/li&gt;
&lt;li&gt;What were the most common words and bigrams (two words) in tweets?&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div id=&#34;gathering-the-data&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Gathering the data &lt;i class=&#34;fab fa-twitter&#34;&gt;&lt;/i&gt;&lt;/h3&gt;
&lt;p&gt;Twitterâ€™s API allows scraping &lt;strong&gt;6-9 days back for free&lt;/strong&gt;. Therefore, I scraped the data already on March 7, 2020 and saved it for later use.&lt;/p&gt;
&lt;p&gt;Letâ€™s start with the packages weâ€™ll use:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(rtweet)
library(tidyverse)
library(tidytext)
library(igraph)
library(hrbrthemes)
library(ggraph)
library(extrafont)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I could use a consistent plot theme throughout the post but Iâ€™ll probably be editing each one a bit, while also some are not our regular graphs. With that said, There are some tweaks that will be consistent acorss several of the plots. Therefore, letâ€™s create a theme function as a supplement to all other theme arguments Iâ€™ll use that will save a few lines of code:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mini_theme &amp;lt;- function(family = &amp;quot;Roboto Condensed&amp;quot;, tsize = 16) {
  theme_classic() +
  theme(text = element_text(family = family),
        axis.ticks = element_blank(),
        axis.line = element_blank(),
        plot.title = element_text(size = tsize))}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Next weâ€™ll gather the tweets we need:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;elections_raw &amp;lt;- search_tweets(&amp;quot;×‘×—×™×¨×•×ª&amp;quot;, n = 18000, retryonratelimit = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To gather the tweets we can use the &lt;a href=&#34;https://rtweet.info/&#34;&gt;{rtweet}&lt;/a&gt; package which is amazing for collecting Twitter data. As I mentioned earlier, I already scraped the data a few days after the elections but left the command here to show what we did and how easy it is to do it. I searched only one term, â€˜electionsâ€™ in Hebrew, and rtweet gathered all tweets containing that word.&lt;/p&gt;
&lt;p&gt;What did our search yield? Letâ€™s have a look:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dim(elections)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 16560    90&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;16,560 rows and 90 columns! As we can see, the &lt;code&gt;{rtweet}&lt;/code&gt; package brings back a lot of information!&lt;/p&gt;
&lt;div id=&#34;some-caveats&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Some Caveats:&lt;/h4&gt;
&lt;p&gt;Before we begin, I will say this post doesnâ€™t aim to be representative of the discussions that were held during the election period. As a matter of fact, nor does it aim to be representative of the twitter discussions surrounding the elections. this is due to two main reasons:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Twitter isnâ€™t common in Israel at all. Iâ€™m not sure whatâ€™s the usage rate but itâ€™s definitely not representative of the Israeli population.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I searched for only one word - elections (in Hebrew) - which yielded some 16560 tweets. This is definitely not a large enough pool of tweets to claim for representation.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;With that said, the data gathered provides an opportunity to look at some Twitter data from the election period and motivate others to use the &lt;code&gt;{rtweet}&lt;/code&gt; package, so why not give it a go.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;tweet-frequency&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Tweet frequency&lt;/h3&gt;
&lt;p&gt;First, letâ€™s see how the tweets distribute across the time span we searched for. we can create a quick time plot using the &lt;code&gt;ts_plot()&lt;/code&gt; argument from the &lt;code&gt;{rtweet}&lt;/code&gt; package:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;elections %&amp;gt;% 
  ts_plot(&amp;quot;2 hours&amp;quot;)+
  geom_line(size = 1, color = &amp;quot;black&amp;quot;)+
  mini_theme()+
  scale_x_datetime(date_breaks = &amp;quot;1 day&amp;quot;,date_labels = &amp;quot;%d %b&amp;quot;)+
  labs(x= NULL, y = NULL,
       title = &amp;quot;Tweet frequency throughout the Israeli elections week&amp;quot;,
       subtitle = &amp;quot;Tweets aggregated by two-hour interval. Only tweets containing the word &amp;#39;elections&amp;#39;\nin Hebrew were gathered&amp;quot;)+
  geom_text(aes(x = as.POSIXct(&amp;quot;2020-03-02 23:00:00&amp;quot;), y = 435, label = &amp;quot;10 PM:\nPolls close&amp;quot;),
            hjust = 0, size = 3, family = &amp;quot;Roboto Condensed&amp;quot;)+
  geom_vline(xintercept = as.POSIXct(&amp;quot;2020-03-02 22:00&amp;quot;),linetype = &amp;quot;dashed&amp;quot;, size = 0.5, color = &amp;quot;black&amp;quot;, alpha = 5/10)+
  theme(plot.subtitle = element_text(color = &amp;quot;gray70&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/elections-twitter/index_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Interesting - we see the number of tweets during the closing time is equivalent to that of midday on March 4th. Most of the votes were counted by the end of March 3rd, so I canâ€™t really put my finger on what this jump represents. After all, I collected tweets containing our word so it could have been that many people tweeted that specific term in that time slot. Anyway, I wasnâ€™t able to find anything interesting that happened on the news that day but feel free to explore and offer suggestions.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;users-with-most-tweets&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Users with most tweets&lt;/h3&gt;
&lt;p&gt;Next, letâ€™s look at who tweeted the most:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;elections %&amp;gt;% 
  count(screen_name, sort = T) %&amp;gt;% 
  slice(1:15) %&amp;gt;% 
  mutate(screen_name = reorder(screen_name,n)) %&amp;gt;% 
  ggplot(aes(x= screen_name, y= n))+
  geom_col(fill = &amp;quot;gray70&amp;quot;)+
  coord_flip()+
  scale_y_continuous(breaks = seq(0,180, 30), labels = seq(0,180,30))+
  labs(x = &amp;quot;Screen name&amp;quot;, y = &amp;quot;Number of tweets&amp;quot;, title = &amp;quot;Top 15 users tweeting the word &amp;#39;elections&amp;#39;&amp;quot;)+
  mini_theme()+
  theme(text = element_text(family = &amp;quot;Calibri&amp;quot;),
        axis.text = element_text(size = 12),
        axis.title.y = element_blank())&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/elections-twitter/index_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;768&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We see that many news companies tweeted a lot using the word â€˜electionsâ€™: â€˜newisrael13â€™, â€˜kann_newsâ€™, â€˜MaarivOnlineâ€™, â€˜RotterNewsâ€™, â€˜bahazit_newsâ€™, â€˜RotterNetâ€™. I personnaly donâ€™t recognize the rest, but on the other hand I use Twitter mostly to follow &lt;code&gt;R&lt;/code&gt; and academic related tweets, not necessarily Israeli politics.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;common-hashtags&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Common Hashtags&lt;/h3&gt;
&lt;p&gt;When using the &lt;code&gt;{rtweet}&lt;/code&gt; package to gather twitter data, one of the variables collected is the hashtags used in tweets. Although it doesnâ€™t require too many lines of code to extract hashtags out of text, I think this is an amazing feature that shows the effort and details &lt;a href=&#34;https://mikewk.com/&#34;&gt;Michael W. Kearney&lt;/a&gt; and contributors put into the package.&lt;/p&gt;
&lt;p&gt;According to &lt;a href=&#34;https://en.wikipedia.org/wiki/Hashtag&#34;&gt;Wikipedia&lt;/a&gt;, a â€˜Hashtagâ€™ â€œis a type of metadata tag used on social networks such as Twitter and other microblogging services.â€, that basically tags the message with a specific theme. This helps to see trends and themes in a macro level.&lt;/p&gt;
&lt;p&gt;OK then, letâ€™s see what we have:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;hashtags &amp;lt;- elections %&amp;gt;% 
  select(hashtags) %&amp;gt;% 
  unlist() %&amp;gt;% 
  as.tibble() %&amp;gt;% 
  mutate(value = tolower(value)) %&amp;gt;% 
  count(value, name = &amp;quot;Count&amp;quot;, sort = T) %&amp;gt;%
  mutate(value = reorder(value, Count),
         iscorona = ifelse(value == &amp;quot;×§×•×¨×•× ×”&amp;quot; | value == &amp;quot;coronavirus&amp;quot;, &amp;quot;y&amp;quot;, &amp;quot;n&amp;quot;)) %&amp;gt;% 
  filter(!is.na(value)) %&amp;gt;% 
  slice(1:20)

ggplot(data = hashtags, aes(x = Count, y = value, fill = iscorona))+
  geom_col(show.legend = FALSE)+
  scale_fill_manual(values = c(y = &amp;quot;#1DA1F2&amp;quot;, n = &amp;quot;gray70&amp;quot;))+
  labs(y = NULL, x = &amp;quot;Number of Tweets&amp;quot;, title = &amp;quot;Top 20 Hashtags addressing the Israeli elections&amp;quot;)+
  mini_theme()+
  theme(text = element_text(family = &amp;quot;Calibri&amp;quot;),
        axis.text = element_text(size = 12))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/elections-twitter/index_files/figure-html/unnamed-chunk-9-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The tweets include pretty much what we expect - hashtags about the elections - with the two leading ones being â€˜electionsâ€™ and â€˜elections2020â€™. We also see a peculiar hashtag â€˜right_following_right_peopleâ€™, and others such as â€˜Netanyahuâ€™ (the Prime minister at the time), â€˜Israelâ€™ and others.&lt;br /&gt;
I highlighted in blue an interesting hashtag at the time - &lt;font color=&#34;#1DA1F2&#34;&gt;&lt;strong&gt;Corona&lt;/strong&gt;&lt;/font&gt; (in hebrew) and &lt;font color=&#34;#1DA1F2&#34;&gt;&lt;strong&gt;coronavirus&lt;/strong&gt;&lt;/font&gt;. The elections were held on March 2, 2020, a little bit after the first cases reached Israel. Little did we know how it will affect us (Iâ€™m finalzing this post on April 18, 2020, and only now weâ€™re starting to get back to routine. Slowly)&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;most-liked-and-retweeted&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Most liked and retweeted&lt;/h3&gt;
&lt;p&gt;Letâ€™s have a look at which tweet was &lt;strong&gt;most liked&lt;/strong&gt;. Twitter doesnâ€™t define it as â€˜likesâ€™ but as â€˜favoriteâ€™, or at least in the data that is collected through the &lt;code&gt;{rtweet}&lt;/code&gt; package. Since I will want to gather the most of something - both favorite and later retweeted - Iâ€™ll create a function that will minimize re-writing the code.&lt;br /&gt;
&lt;br&gt;
The function takes in a variable, reorders our dataset according to the variable we declared, extracts the first row and then pulls (extracts) the status id of that tweet. Lastly, the &lt;code&gt;blogdown::shortcode&lt;/code&gt; enables to embed tweets, youtube videos and more into a blogdown post such as this, so we end the function by inserting our status id into that. For those just getting into functions notice that within the &lt;code&gt;arrange&lt;/code&gt; argument we insert our variable in two curly brackets {{}}. This is a powerful feature of &lt;code&gt;{rlang}&lt;/code&gt; when you want to manipulate a variable in a dataframe within a function. You can read more about that &lt;a href=&#34;https://www.tidyverse.org/blog/2019/06/rlang-0-4-0/&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;get_most &amp;lt;- function(var){
elections %&amp;gt;% 
  arrange(desc({{var}})) %&amp;gt;% 
  .[1,] %&amp;gt;% 
  pull(status_id) %&amp;gt;% 
  blogdown::shortcode(&amp;#39;tweet&amp;#39;,.)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now Letâ€™s see which tweet was &lt;strong&gt;most liked&lt;/strong&gt; during that week:&lt;/p&gt;
&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;iw&#34; dir=&#34;rtl&#34;&gt;×™×•×ª×¨ ××”×›×œ, ×× ×™ ×©××— ×©×œ× ×™×”×™×• ×¢×•×“ ×‘×—×™×¨×•×ª ×‘×©×‘×™×œ ×”××©×¤×—×” ×©×œ×™ ×©×¡×‘×œ×” ×‘×’×‘×•×¨×” ×©× ×” ×•×¨×‘×¢. ×¨×¢×•×ª ×¢×‘×¨×™ ×•×¢× ×¨ ğŸ˜&lt;/p&gt;&amp;mdash; ×¢××™×ª ×¡×’×œ Amit Segal (@amit_segal) &lt;a href=&#34;https://twitter.com/amit_segal/status/1234584864415997952?ref_src=twsrc%5Etfw&#34;&gt;March 2, 2020&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;

&lt;/center&gt;
&lt;p&gt;The tweet is by â€˜Amit Segalâ€™ - an Israeli news reporter - and it says (my translation):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€œMore than anything, Iâ€™m glad there wonâ€™t be another elections for my family that suffered in honors a year and a quarter. Reut, Ivri and Aner ğŸ˜â€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ha, interestingly he wrote it before the end of the elections, hopefully heâ€™s right!&lt;/p&gt;
&lt;p&gt;Now letâ€™s look at the &lt;strong&gt;most re-tweeted&lt;/strong&gt; tweet:&lt;/p&gt;
&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;iw&#34; dir=&#34;rtl&#34;&gt;×× ×”×”×§×œ×˜×” ×©×œ ×™×•×¢×¦×• ×©×œ ×’× ×¥ ××‘×•×©×œ×ª ×•×©×§×¨×™×ª (×›×“×‘×¨×™ ×’× ×¥ ×¢×›×©×™×•), ××– ×œ××” ×’× ×¥ ×¤×™×˜×¨ ××•×ª×•?&lt;br&gt;&lt;br&gt;×™×•×¢×¦×• ×©×œ ×’× ×¥ ×¤×•×˜×¨ ×‘×’×œ×œ ×©×××¨ ××ª ×”×××ª ×©×›×•×œ× ×™×•×“×¢×™×: ×’× ×¥ ×œ× ×™×›×•×œ ×œ×”×™×•×ª ×¨××© ×××©×œ×”. ×× ×—× ×• ×›×Ÿ. ×¢×•×“ 2 ×× ×“×˜×™× ×œ×œ×™×›×•×“ ×•×× ×—× ×• ××•×¦×™××™× ××ª ×”××“×™× ×” ××”×¤×œ×•× ×˜×¨, ××•× ×¢×™× ×¢×•×“ ×‘×—×™×¨×•×ª ×•××§×™××™× ×××©×œ×”&lt;/p&gt;&amp;mdash; Benjamin Netanyahu (@netanyahu) &lt;a href=&#34;https://twitter.com/netanyahu/status/1233342393740603394?ref_src=twsrc%5Etfw&#34;&gt;February 28, 2020&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;

&lt;/center&gt;
&lt;p&gt;The tweet is by Benjamin Netanyahu, at the time the prime minister of Israel, who writes:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€œIf the recording of Gantzâ€™s advisor is orcherstrated and fabricated (according to Gantzâ€™s words just now), why did Gantz fire him? Gantzâ€™s advisor was fired because he said the truth everyone knows: Gantz canâ€™t be a prime minister. We can. 2 more mandates to the Likkud and we are taking the country out of the plonter, preventing another election and form a governmentâ€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This came after the exposure of a secret recording of Gantz in a closed meeting, A few days before election day.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;wordcloud-and-bigrams&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Wordcloud and bigrams&lt;/h2&gt;
&lt;p&gt;Letâ€™s have a look at two more text-related analyses:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;A word-cloud&lt;br /&gt;
&lt;/li&gt;
&lt;li&gt;Bigrams (two-words) from our text&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We could try out more algorthims but Iâ€™ll save them for a different post (feel free to try on your own).&lt;/p&gt;
&lt;div id=&#34;wordcloud&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Wordcloud&lt;/h3&gt;
&lt;p&gt;In order to tackle the wordcloud, Iâ€™ll break up all the tweets into &lt;strong&gt;single words&lt;/strong&gt;, filter any Hebrew stop words (file found online) and all English words. The decision to filter English words is mainly because Iâ€™m interested in the Hebrew sentences, but also because most the common English words used in our data are those of Twitter user names cited when replying to a tweet:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;he_stopwords &amp;lt;- read_tsv(&amp;quot;https://raw.githubusercontent.com/gidim/HebrewStopWords/master/heb_stopwords.txt&amp;quot;, col_names = &amp;quot;word&amp;quot;)

election_token &amp;lt;- elections %&amp;gt;% 
  unnest_tokens(word, text) %&amp;gt;% 
  select(word) %&amp;gt;%
  anti_join(he_stopwords) %&amp;gt;% 
  count(word, sort = T) %&amp;gt;%
  filter(!grepl(&amp;quot;([a-z]+|×‘×—×™×¨×•×ª)&amp;quot;, word), n&amp;gt;= 150)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we can create a wordcloud of words appearing more than 150 times using &lt;code&gt;{wordcloud2}&lt;/code&gt; package&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;wordcloud2::wordcloud2(election_token, color = &amp;quot;#1DA1F2&amp;quot;, shape = &amp;quot;circle&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;figure&#34; style=&#34;text-align: center&#34;&gt;&lt;span id=&#34;fig:unnamed-chunk-13&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;wc.png&#34; alt=&#34;Wordcloud excludes Hebrew stop words and the word &#39;elections&#39;&#34; width=&#34;550&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 1: Wordcloud excludes Hebrew stop words and the word â€˜electionsâ€™
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;What we can see is many of the words weâ€™d expect: Political candidates, government, fourth (in the context of fourth elections), partisâ€™ names and more. Iâ€™ll provide a more thorough discussion following our bigram plot below, as I believe it addresses many of the same words.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;common-bigrams&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Common Bigrams&lt;/h3&gt;
&lt;p&gt;Like we did before, we can break up our text data into &lt;strong&gt;two word&lt;/strong&gt; observations, also known as bigrams. In order to account for all combinations, we break up the sentence to fit all possible options. For example, assume we have the following sentence:&lt;/p&gt;
&lt;p&gt;â€œDanny went to vote yesterdayâ€&lt;/p&gt;
&lt;p&gt;Using the &lt;code&gt;unnest_tokens&lt;/code&gt; weâ€™ll break the sentence into the following bigrams:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Danny went&lt;br /&gt;
&lt;/li&gt;
&lt;li&gt;went to&lt;br /&gt;
&lt;/li&gt;
&lt;li&gt;to vote&lt;br /&gt;
&lt;/li&gt;
&lt;li&gt;vote yesterday&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Which gives us all possible options. We will also include two columns consisting of the bigram broken up into single words. This will help in filtering out bigrams containing Hebrew stop words or English words. Iâ€™ll not run through the following code but instead will point you to &lt;a href=&#34;http://varianceexplained.org/&#34;&gt;David Ronbinson&lt;/a&gt; &amp;amp; &lt;a href=&#34;https://juliasilge.com/&#34;&gt;Julia Silge&lt;/a&gt; &lt;a href=&#34;https://www.tidytextmining.com/&#34;&gt;â€˜Text Mining with Râ€™ Book&lt;/a&gt; for further reading.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;elec_bigram &amp;lt;- elections %&amp;gt;%
  select(text) %&amp;gt;% 
  unnest_tokens(bigram, text, token = &amp;quot;ngrams&amp;quot;, n = 2) %&amp;gt;%
  separate(bigram, into = c(&amp;quot;word1&amp;quot;, &amp;quot;word2&amp;quot;), sep = &amp;quot; &amp;quot;, remove = FALSE) %&amp;gt;% 
  filter(!word1 %in% he_stopwords$word,
         !word2 %in% he_stopwords$word,
         !grepl(&amp;quot;([a-z]+|×‘×—×™×¨×•×ª)&amp;quot;, bigram)) %&amp;gt;% 
  count(word1, word2, sort = T) %&amp;gt;% 
  slice(1:45) %&amp;gt;%
  graph_from_data_frame()

p_arrow &amp;lt;- arrow(type = &amp;quot;closed&amp;quot;, length = unit(.1, &amp;quot;inches&amp;quot;))

ggraph(elec_bigram, layout = &amp;quot;fr&amp;quot;)+
  geom_edge_link(aes(edge_alpha = n), arrow = p_arrow, end_cap = circle(.04, &amp;quot;inches&amp;quot;), show.legend = FALSE)+
  geom_node_point(color = &amp;quot;lightblue&amp;quot;, size = 3)+
  geom_node_text(aes(label = name), vjust = 1, hjust = 1, family = &amp;quot;Calibri&amp;quot;)+
  theme_void()+
  labs(title = &amp;quot;Twitter text bigram&amp;quot;)+
  theme(text = element_text(family = &amp;quot;Calibri&amp;quot;),
        plot.title = element_text(hjust = 0.5 , face = &amp;quot;bold&amp;quot;, size = 18))&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;figure&#34; style=&#34;text-align: center&#34;&gt;&lt;span id=&#34;fig:unnamed-chunk-15&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;/post/elections-twitter/index_files/figure-html/unnamed-chunk-15-1.png&#34; alt=&#34;Word bigram excludes Hebrew stop words and the word &#39;elections&#39;&#34; width=&#34;672&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 2: Word bigram excludes Hebrew stop words and the word â€˜electionsâ€™
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;How should we read this graph?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;First off, We only plotted the 45 most common bigrams (out of 100,000+). Every word is connected to another word with an arrow pointing to a given direction. The direction to which the arrow points is the way to read that bigram. In addition, bolder lines represent a higher frequency of that bigram throughout all our text.&lt;br /&gt;
For example, on the bottom of our graph we see the number â€˜2â€™ connected to the words â€˜mandatesâ€™ and â€˜campaginâ€™. The direction of the arrow signals that we should read the bigram as â€˜2 mandatesâ€™ and â€˜2 campaginsâ€™.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;What does this all mean?&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We have discussions regarding the &lt;strong&gt;number of chairs a govenrment will have (62/61/60/58)&lt;/strong&gt; connected to mentions of the number of election campaigns (2/3) we had, discussions of a united and/or minimal government and the forming of one in general.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We see &lt;strong&gt;mentions of individuals&lt;/strong&gt; such as â€œBenjamin Netanyahuâ€, â€œAmit Segalâ€ (Both we discussed earlier), â€œNatan Eshelâ€, &lt;strong&gt;but no mention of the main candidate running against Netanyahu - â€œBenny Gantzâ€&lt;/strong&gt;. Thatâ€™s actually kind of odd, but more on that in a minute.&lt;br /&gt;
&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We also see mentions of political parties such as â€œMeretzâ€, â€œGesherâ€ and â€œLaborâ€ who ran together this time around, â€œOtzma Yehuditâ€, â€œUnited Torah Judaismâ€, and the â€œJoint Listâ€. &lt;strong&gt;Thereâ€™s no mention of the two leading parties - â€œKahol Lavanâ€ &amp;amp; â€œThe Likkudâ€.&lt;/strong&gt;, despite the mentioning of the latterâ€™s leader.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mentions of Netanyahuâ€™s indicment and the personal law associated him.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mentions Iâ€™d categorize as â€˜otherâ€™ such as â€œTerrorist supportersâ€, â€œWill of the peopleâ€, â€œFake newsâ€, &#34;Go voteâ€™, etc.
&lt;br&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Actaully, this turned out more interesting than I thought. Several questions arose while looking at it: Several words are missing such as the main parties names (Likkud &amp;amp; Kahol-Lavan), The leading oponent running against Benjamin Netanyahu - Benny Gantz - and other questions such as with whom are specific terms associated. Before we close up Iâ€™ll look at one question that troubles me - &lt;strong&gt;Why doesnâ€™t Gantz appear in our list&lt;/strong&gt; ğŸ˜¨?&lt;/p&gt;
&lt;div id=&#34;benny-gantzs-disappearance&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Benny Gantzâ€™s disappearance&lt;/h4&gt;
&lt;p&gt;In order to see why Benny Gantz doesnâ€™t appear in our bigram plot Iâ€™ll do the following: Iâ€™ll break the text into bigrams and filter to &lt;strong&gt;have only the bigrams containing the word Gantz&lt;/strong&gt;. Once we have that we can see why he doesnâ€™t appear in our bigram plot despite appearing in our wordcloud.&lt;br /&gt;
Before I run the analysis and give you the answer think for a moment - What was the process of coming up with the bigram? If I chose only the 50 most frequent bigrams, why would a word that appears many times in our text not appear in our bigram list? Alternatively, did we filter anything along the way? Maybe even give the previous chunk another glance before I answer it.&lt;br /&gt;
&lt;br&gt;
Letâ€™s have a look:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gantz &amp;lt;-elections %&amp;gt;%
  select(text) %&amp;gt;% 
  unnest_tokens(bigram, text, token = &amp;quot;ngrams&amp;quot;, n = 2) %&amp;gt;%
  separate(bigram, into = c(&amp;quot;word1&amp;quot;, &amp;quot;word2&amp;quot;), sep = &amp;quot; &amp;quot;, remove = FALSE) %&amp;gt;% 
  filter(word1 %in% &amp;quot;×’× ×¥&amp;quot; |
         word2 %in% &amp;quot;×’× ×¥&amp;quot;,
         !grepl(&amp;quot;([a-z]+|×‘×—×™×¨×•×ª)&amp;quot;, bigram))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The code is similar to what we did earlier only this time we left &lt;strong&gt;bigrams that match the word we want&lt;/strong&gt; - bigrams containing the word Gantz. Now that we have our list of bigrams, letâ€™s look at the count of bigrams containing the word ×’× ×¥ (â€˜Gantzâ€™):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gantz %&amp;gt;% 
  count(bigram, sort = T)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 978 x 2
##    bigram         n
##    &amp;lt;chr&amp;gt;      &amp;lt;int&amp;gt;
##  1 ×©×œ ×’× ×¥       160
##  2 ×‘× ×™ ×’× ×¥      138
##  3 ×’× ×¥ ×œ×        90
##  4 ×¢×œ ×’× ×¥        70
##  5 ××ª ×’× ×¥        69
##  6 ×¢× ×’× ×¥        61
##  7 ×× ×’× ×¥        41
##  8 ×’× ×¥ ×”×™×”       25
##  9 ×’× ×¥ ××•        19
## 10 ×’× ×¥ ×œ×™×‘×¨××Ÿ    19
## # ... with 968 more rows&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;AHA!&lt;/strong&gt; Now I see what happened. The first bigram is a stop word and the word Gantz (â€˜Of Gantzâ€™). The second bigram should have been included as it is Gantzâ€™s full name - Benny Gantz, which appears 138 times.&lt;br /&gt;
So, why has it been filtered? This is a great question which we can answer if we look at our stop words we initially used. Letâ€™s see if it has the word ×‘× ×™ (â€˜bennyâ€™ in Hebrew):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;he_stopwords %&amp;gt;% 
  filter(word == &amp;quot;×‘× ×™&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 1 x 1
##   word 
##   &amp;lt;chr&amp;gt;
## 1 ×‘× ×™&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Yes it does. At the time of writing this blog post it leaves me in a dilemma - Should I change the stop words file I used to a different one or maybe create my own? Or should I continue as is? I think leaving it will teach me (and hopefully whoever read this far) a valuable lesson of always checking your stop words. In a different context the specific bigram wouldnâ€™t have got me thinking, but here it didnâ€™t make sense that our leading candidate was filtered, thus my inquire into what happened. In hebrew the word Benny also means â€˜my sonâ€™, which I wouldnâ€™t describe as a stop word but whoever made the dataset I guess did.&lt;/p&gt;
&lt;p&gt;If you wish to give it a try yourself, you can find the data in the form of an &lt;code&gt;.rds&lt;/code&gt; or smaller &lt;code&gt;.csv&lt;/code&gt; (excludes list columns) in my &lt;a href=&#34;https://github.com/AmitLevinson/amitlevinson.com/blob/master/content/post/elections-twitter&#34;&gt;github repository&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Well then, thatâ€™s all for now folks! &lt;strong&gt;And remember, make sure to validate your stop words dataset!&lt;/strong&gt;
&lt;br&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;The function &lt;code&gt;wordcloud2&lt;/code&gt; we wrote wasnâ€™t actually run because it renders an html object which distorts the post. Instead I used the webshot of our rendered html file, read more about that &lt;a href=&#34;https://www.r-graph-gallery.com/196-the-wordcloud2-library.html&#34;&gt;here&lt;/a&gt;.&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;â†©&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>The Tidytuesday project</title>
      <link>/2020/04/16/the-tidytuesday-project/</link>
      <pubDate>Thu, 16 Apr 2020 00:00:00 +0000</pubDate>
      <guid>/2020/04/16/the-tidytuesday-project/</guid>
      <description>


&lt;script&gt;
  function resizeIframe(obj) {
    obj.style.height = obj.contentWindow.document.body.scrollHeight + &#39;px&#39;;
  }
&lt;/script&gt;
&lt;div id=&#34;what-is-tidytuesday&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;What is TidyTuesday?&lt;/strong&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;â€œA weekly data project aimed at the R ecosystem. As this project was borne out of the R4DS Online Learning Community and the R for Data Science textbook, an emphasis was placed on understanding how to summarize and arrange data to make meaningful charts with ggplot2, tidyr, dplyr, and other tools in the tidyverse ecosystem. However, any code-based methodology is welcome - just please remember to share the code used to generate the results.â€&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You can read more about it &lt;a href=&#34;https://github.com/rfordatascience/tidytuesday&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Basically, every week the R4DS community publishes a &lt;strong&gt;new data set&lt;/strong&gt; where the R community (or any code-based methdogology) is welcome to &lt;strong&gt;analyze&lt;/strong&gt; and &lt;strong&gt;visualize&lt;/strong&gt; the data.
When I started learning R I saw it as a great opportunity to practice plotting and analzying various datasets; itâ€™s what get me motivated and fascinated with R. Every week youâ€™re challenged with a new data set and get to see how others have analyzed it.&lt;/p&gt;
&lt;p&gt;Whenever I have some free time I like to join in and give it a go. If youâ€™re looking to get some practice or enjoy analyzing the same data set as others - Join the party, thereâ€™s much to learn!&lt;br /&gt;
&lt;/br&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;plots&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Plots&lt;/h2&gt;
&lt;p&gt;Below are graphs I made, organized in a descending order by date. Some Iâ€™m more proud of than others, but I choose to display all of them in case someone finds anything useful ğŸ˜„
&lt;/br&gt;&lt;/p&gt;
&lt;div id=&#34;section&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;29.04.2020&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/2020/week18_broadway/broadway.R&#34;&gt;Link to code&lt;/a&gt;&lt;/p&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;img src = &#34;/img/tt/broadway.gif&#34; width = &#34;700&#34;&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;section-1&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;22.04.2020&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/2020/week17_gdpr/gdpr.R&#34;&gt;Link to code&lt;/a&gt;&lt;/p&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;iframe width=&#34;95%&#34; height=&#34;475px&#34; name=&#34;iframe&#34; src=&#34;/img/tt/hc_gdpr.html&#34;&gt;
&lt;/iframe&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;section-2&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;16.04.2020&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/2020/week16_rapartists/rapartists.R&#34;&gt;Link to code&lt;/a&gt;&lt;/p&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;img src = &#34;/img/tt/rap_points.png&#34; width = &#34;700&#34;&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;section-3&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;17.03.2020&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/2020/week12_theoffice/the_office.R&#34;&gt;Link to code&lt;/a&gt;&lt;/p&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;img src = &#34;/img/tt/tt_schrute.png&#34; width = &#34;700&#34;&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;section-4&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;06.03.2020&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/2020/week10_nhl/nhl.Rmd&#34;&gt;Link to code&lt;/a&gt; | &lt;a href=&#34;https://amit-levinson.shinyapps.io/tidytuesday_week_10_nhl/&#34;&gt;Try the app&lt;/a&gt;&lt;/p&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;img src = &#34;/img/tt/tt_nhl.gif&#34; width = &#34;700&#34;&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;section-5&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;20.01.2020&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/2020/week4_spotify_songs/spotify_songs.R&#34;&gt;Link to code&lt;/a&gt;&lt;/p&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;img src = &#34;/img/tt/spotify.png&#34; width = &#34;700&#34;&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;section-6&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;22.12.2019&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/Week51_adopted_dogs/adopted_dogs.R&#34;&gt;Link to code&lt;/a&gt;&lt;/p&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;img src = &#34;/img/tt/total_breed.png&#34; width = &#34;700&#34;&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;section-7&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;11.12.2019&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/Week50_diseases/diseases.R&#34;&gt;Link to code&lt;/a&gt;&lt;/p&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;img src = &#34;/img/tt/measles.gif&#34; width = &#34;700&#34;&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;section-8&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;5.12.2019&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/Week49_parking_tickets/parking_tickets.R&#34;&gt;Link to code&lt;/a&gt;&lt;/p&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;img src = &#34;/img/tt/parking_tickets_hours.png&#34; width = &#34;700&#34;&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;section-9&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;20.11.2019&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/Week47_nz_birds/nz_birds.Rmd&#34;&gt;Link to code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/tt/nz_bird_vote.png&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;section-10&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;6.11.2019&lt;/strong&gt;&lt;/h3&gt;
&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/Week45_bike_walk/bike_walk.Rmd&#34;&gt;Link to code&lt;/a&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;img src=&#34;/img/tt/bikers_and_walkers.png&#34; width=&#34;700&#34;&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;section-11&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;31.10.2019&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/Week44_NYC_Squerrils/Squirrels.Rmd&#34;&gt;Link to code&lt;/a&gt;&lt;/p&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;img src=&#34;/img/tt/Central_park_squirrel.png&#34; width=&#34;700&#34;&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;section-12&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;22.10.2019&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/Week43_Horror_Films/Horror_dis.R&#34;&gt;Link to code&lt;/a&gt;&lt;/p&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;img src=&#34;/img/tt/horror_movie_length.png&#34; width=&#34;700&#34;&gt;
&lt;/p&gt;
&lt;p&gt;&lt;/br&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;section-13&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;9.10.2019&lt;/strong&gt;&lt;/h3&gt;
&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/Week41_Power_lifting/ipf.R&#34;&gt;Link to code&lt;/a&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;img src=&#34;/img/tt/Max_lift.jpeg&#34; width=&#34;700&#34;&gt;
&lt;/p&gt;
&lt;p&gt;&lt;/br&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;section-14&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;6.10.2019&lt;/strong&gt;&lt;/h3&gt;
&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/Week40_All%20the%20Pizza/Barstool_Top_2_Percent.R&#34;&gt;Link to code&lt;/a&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;img src=&#34;/img/tt/Barstool_rating.png&#34; width=&#34;700&#34;&gt;
&lt;/p&gt;
&lt;p&gt;&lt;/br&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;section-15&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;28.9.2019&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/2_Week39_SchoolDiversity/School_Diversity_Updated.R&#34;&gt;Link to code&lt;/a&gt;&lt;/p&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;img src=&#34;/img/tt/Ethnic_div_revised.png&#34; width=&#34;700&#34;&gt;
&lt;/p&gt;
&lt;p&gt;&lt;/br&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;section-16&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;&lt;strong&gt;22.9.2019&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/AmitLevinson/TidyTuesday/blob/master/1_Week38_Number%20of%20Visitors/National%20Parks.R&#34;&gt;Link to code&lt;/a&gt;&lt;/p&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;img src=&#34;/img/tt/National_Parks.png&#34; width=&#34;700&#34;&gt;
&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;#top&#34;&gt; Back to top&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Wrangling and Visualizing Data in R</title>
      <link>/talk/israel-2050/</link>
      <pubDate>Tue, 14 Apr 2020 13:00:00 +0000</pubDate>
      <guid>/talk/israel-2050/</guid>
      <description>


&lt;p&gt;R is an amazing tool for preparing and visualizing data. As political activists we want to provide our readers with information that will influence and motivate them to act. The talk outlines how I believe R can empower individuals to work with data in an efficient and aesthetic way.&lt;br /&gt;
You can find a static example of knitting a document with parameters under the folder â€˜rmarkdown_egâ€™ in the code repository. Rmarkdownâ€™s ability to render documents is something I found extremly advantageous over other programs such as SPSS, a statistical program commonly taught in the social science. The slides were given to a group of fellows of the program &lt;a href=&#34;https://israel2050.co.il/&#34;&gt;Israel-2050&lt;/a&gt; which I was a member of in 2017. This is not a hands-on learning session but an exposure to some of Râ€™s abilities I find fascinating and helpful for those wanting to work with data effectively.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Making updating exam grades easy with R</title>
      <link>/2020/02/15/update-exam-grades-easy-with-r/</link>
      <pubDate>Sat, 15 Feb 2020 00:00:00 +0000</pubDate>
      <guid>/2020/02/15/update-exam-grades-easy-with-r/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/kePrint/kePrint.js&#34;&gt;&lt;/script&gt;


&lt;p&gt;&lt;strong&gt;TL;DR&lt;/strong&gt; Instead of each time searching for an id in the xlsx template the university provides we make our own xlsx and merge between the two. I then run through two options of either saving the new data frame as an &lt;code&gt;.xlsx&lt;/code&gt; using the &lt;code&gt;{xlsx}&lt;/code&gt; package, and I show another option where I extract the new column I need using &lt;code&gt;write_clip&lt;/code&gt; from the &lt;code&gt;{clipr}&lt;/code&gt; package.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€œProgress isnâ€™t made by early risers. Itâ€™s made by lazy men trying to find easier ways to do something.â€ &lt;/br&gt; â€• Robert Heinlein&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div id=&#34;whats-the-story&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Whatâ€™s the story?&lt;/h3&gt;
&lt;p&gt;The other day I had to update studentsâ€™ exams into a blank excel file. Every course exam each student gets an exam id. Their id is comprised from a number / number, for example, 26/1; 1/1; 42/15 and so forth. In our course of up to 70 students the left number goes all the way to the number of students in the exam class, and the right number goes up to 15 or 20 and starts again from 1.&lt;br /&gt;
This would make it easy to insert the grade for each id into the excel file that is already organized. However, since this is a new system and I was waiting to get access to download the excel I decided to open a new spreadsheet instead. Also, writing the id instead of looking it up in the excel file each time can save, in my opinion, a little time of searching.&lt;br /&gt;
So we have our spreadsheet which is not sorted, and we have the universityâ€™s spreadsheet which is sorted - how are we going to sync between them, considering our id column we wrote is recognized as a &lt;code&gt;character&lt;/code&gt; class? I know, letâ€™s turn to &lt;code&gt;R&lt;/code&gt;&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;looking-at-our-data&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Looking at our data&lt;/h3&gt;
&lt;p&gt;Letâ€™s start off with loading our packages:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
# For reading xlsx files
library(readxl)
# To nicely display the tables in the following paragraph
library(kableExtra)
library(knitr)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now letâ€™s read both files: Our spreadsheet with just the id and grade of each student we wrote in, and the other spreadsheet with the studentsâ€™ id and a numerical vector to sort by that the university provides.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;messy &amp;lt;- read_excel(&amp;quot;messy_grades.xlsx&amp;quot;)
clean &amp;lt;- read_excel(&amp;quot;clean.xlsx&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This gives us the following tables where on the left we have our &lt;strong&gt;messy&lt;/strong&gt; table we wrote and on the right our &lt;strong&gt;clean&lt;/strong&gt; table we want to merge to:&lt;/p&gt;
&lt;table class=&#34;table&#34; style=&#34;width: auto !important; float: left; margin-right: 10px;&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
id
&lt;/th&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
grade
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
67/13
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
94
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
56/2
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
90
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
68/14
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
84
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
63/9
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
100
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
55/1
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
89
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
62/8
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
97
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table class=&#34;table&#34; style=&#34;width: auto !important; margin-right: 0; margin-left: auto&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
id
&lt;/th&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
participated
&lt;/th&gt;
&lt;th style=&#34;text-align:center;&#34;&gt;
number_for_sorting
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
1/1
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
V
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
1
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
2/2
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
V
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
2
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
3/3
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
V
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
3
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
4/4
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
NA
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
4
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
5/5
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
NA
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
5
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
6/6
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
V
&lt;/td&gt;
&lt;td style=&#34;text-align:center;&#34;&gt;
6
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;br&gt;
So we now have several options:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Join between the two tables, save the clean table as a new xlsx and upload it to the Universityâ€™s exam system.&lt;/li&gt;
&lt;li&gt;Join between the two tables, clip the column with the organized grades and paste it into the universityâ€™s sorted excel file.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div id=&#34;option-1---merge-and-write-to-a-new-excel-file&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Option 1 - Merge and write to a new excel file&lt;/h3&gt;
&lt;p&gt;So the first option will be to merge the two tables into the clean one and save that as a new excel file using the &lt;code&gt;{xlsx}&lt;/code&gt; package:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;joined_tables &amp;lt;- messy %&amp;gt;% 
    right_join(clean)

xlsx::write.xlsx(joined_tables, &amp;quot;010210078-29012020C.xlsx&amp;quot;, showNA = FALSE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Below is a screen shot of our new table:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/ta_efficient/xl.png&#34; /&gt;&lt;/p&gt;
&lt;p&gt;However, going with this approach I encountered that the new .xlsx file is saved with a new column of id numbers that we see in the screenshot. We can just delete that column and have our file all ready to go.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;option-2---clip-the-sorted-column-into-the-excel-file&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Option 2 - Clip the sorted column into the excel file&lt;/h3&gt;
&lt;p&gt;This time around Iâ€™ll write a function for what weâ€™ll be doing: I want to join the tables but this time around I want to clip the column I need and then manually paste it in the original template excel file:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;clip_grades &amp;lt;- function(messy, clean){
  messy %&amp;gt;% 
    right_join(clean) %&amp;gt;% 
    pull(grade) %&amp;gt;% 
    clipr::write_clip()
}

clip_grades(messy, clean)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;which gives us the following:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/ta_efficient/clipgif.gif&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Thatâ€™s it!&lt;/p&gt;
&lt;p&gt;Well, more or less. We need to delete the â€˜NAâ€™ that are copied from the function. Unfortunately I wasnâ€™t able to delete them from within &lt;code&gt;R&lt;/code&gt;, so I manually delete them.&lt;/p&gt;
&lt;p&gt;As to which option is better, I think the first option is more efficient as we only need to delete the id column. However, using the &lt;code&gt;{xlsx}&lt;/code&gt; package is dependent on &lt;code&gt;{rJava}&lt;/code&gt;and having java installed on the computer from what I encountered. Option two can be a little messy and possibly yield mistakes if we copy and paste the new grades and then manually delete the &lt;code&gt;NA&lt;/code&gt; - your call.&lt;/p&gt;
&lt;div id=&#34;so-what-did-i-learn-here&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;So what did I learn here?&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;How to read and write an excel file.&lt;/li&gt;
&lt;li&gt;Using the &lt;code&gt;write_clip&lt;/code&gt; function which is amazingly easy.&lt;/li&gt;
&lt;li&gt;How to make updating exams easier ğŸ’ª&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;/br&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;For confidentiality and other reasons I only left columns with information that canâ€™t be linked to students (I also changed the grades altogether for this demonstration).&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;â†©&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Visualizing Eliud Kichoge&#39;s new marathon record</title>
      <link>/2020/02/07/eliud-kichoge/</link>
      <pubDate>Fri, 07 Feb 2020 00:00:00 +0000</pubDate>
      <guid>/2020/02/07/eliud-kichoge/</guid>
      <description>


&lt;div class=&#34;figure&#34; style=&#34;text-align: center&#34;&gt;&lt;span id=&#34;fig:unnamed-chunk-1&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;new_record.jpg&#34; alt=&#34;_Eliud Kipchoge breaks the two-hour marathon barrier. Photo from the &#39;New York Times&#39;. Leonhard Foeger/Reuters _&#34; width=&#34;512&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 1: &lt;em&gt;Eliud Kipchoge breaks the two-hour marathon barrier. Photo from the â€˜New York Timesâ€™. Leonhard Foeger/Reuters &lt;/em&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;table-of-contents&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Table of Contents&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#background&#34;&gt;Background&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#retrieving-data-from-wikipedia&#34;&gt;Retrieving data from wikipedia&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#warngling-the-data&#34;&gt;Warngling the Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#plot&#34;&gt;Plot&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#ggimage&#34;&gt;ggimage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#plot-aesthetics&#34;&gt;Plot Aesthetics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#final-annotation&#34;&gt;Final annotation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#appendix&#34;&gt;Appendix&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div id=&#34;background&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Background&lt;/h2&gt;
&lt;p&gt;On saturday October 12, 2019, Eliud Kipchoge broke (unofficially) the two-hour marathon barrier ğŸ†&lt;br /&gt;
I saw &lt;a href=&#34;https://twitter.com/neilfws/status/1182958246753009665&#34;&gt;Neil Saundersâ€™ Twitter post&lt;/a&gt; visualizing the new record and wanted to try and reproduce it with runners instead of points. In this post Iâ€™ll walk through how I obtained the data from a Wikipedia page with &lt;code&gt;{rvest}&lt;/code&gt;, wrangled and tidied it and eventually plotted it using &lt;code&gt;{ggimage}&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;When I initially created the plot I mistakenly took the &lt;a href=&#34;https://en.wikipedia.org/wiki/Marathon_year_rankings&#34;&gt;Marathon year rankings&lt;/a&gt; from the Wikipedia webpage. That page showcases The yearly rankings and not the world records in general. In addition, I also changed the method of obtaining the data from first creating the plot to now. When I first did it I copied and pasted the table from Wikipedia into a &lt;code&gt;.csv&lt;/code&gt; file and worked with that. For that specific time point, where my experience with &lt;code&gt;R&lt;/code&gt; was extremly novice, I think it was adequate. This time around I gave scraping Wikipediaâ€™s webpage a try which also renders a reproducible example.&lt;/p&gt;
&lt;p&gt;Letâ€™s start with loading the packages weâ€™ll need:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(rvest)
library(janitor)
library(lubridate)
library(ggimage)
library(hrbrthemes)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Weâ€™ll use &lt;code&gt;{tidyverse}&lt;/code&gt; for tidy manipulation and plotting, &lt;code&gt;{janitor}&lt;/code&gt; for cleaning the column names, &lt;code&gt;{lubridate}&lt;/code&gt; for working with dates, &lt;code&gt;{ggimage}&lt;/code&gt; for a plot with images and &lt;code&gt;{hrbrthemes}&lt;/code&gt; for a nice quick aesthetic theme.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;retrieving-data-from-wikipedia&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Retrieving data from wikipedia&lt;/h2&gt;
&lt;p&gt;In order to view the new record in comparison to other world records, Weâ€™ll turn to Wikipedia and see what we can find there.&lt;/p&gt;
&lt;div class=&#34;figure&#34; style=&#34;text-align: center&#34;&gt;&lt;span id=&#34;fig:wiki-ss&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;wikipage.png&#34; alt=&#34;_Wikipedia page of marathon world records_&#34; width=&#34;807&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 2: &lt;em&gt;Wikipedia page of marathon world records&lt;/em&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Here we can see that the webpage contains information about marathon records, where in the screenshot we see the men section. We only want the table with menâ€™s records, so letâ€™s get that:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#The Wikipage we&amp;#39;ll need
wiki_url &amp;lt;- &amp;quot;https://en.wikipedia.org/wiki/Marathon_world_record_progression&amp;quot;

runners_wiki &amp;lt;- wiki_url %&amp;gt;% 
  read_html() %&amp;gt;% 
  html_nodes(xpath=&amp;#39;//*[@id=&amp;quot;mw-content-text&amp;quot;]/div/table[1]&amp;#39;) %&amp;gt;% 
  html_table(fill = TRUE) %&amp;gt;% 
  as.data.frame()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Using the &lt;code&gt;{rvest}&lt;/code&gt; package we are able to scrape the Wikipedia page for the table we wanted. Frankly, this is the first time I used &lt;code&gt;rvest&lt;/code&gt;, but I found a good example from &lt;a href=&#34;https://r-tastic.co.uk/post/exploring-london-crime-with-r-heat-maps/&#34;&gt;Kasia Kulmaâ€™s blog post&lt;/a&gt; exploring London crime with R heat maps. I used the &lt;em&gt;SelctorGadget&lt;/em&gt; which identified the pageâ€™s content as â€œmw-content-textâ€. Using that id we looked for the tables (/div/table), specifically the first table &lt;code&gt;[1]&lt;/code&gt; of men world records we saw earlier in figure &lt;a href=&#34;#fig:wiki-ss&#34;&gt;2&lt;/a&gt;. Once we have the table we turn it into a dataframe for us to use.&lt;/p&gt;
&lt;p&gt;Alternatively, you can also use the following method to extract a table by extracting all tables from the Wikipedia page and choosing the first one:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;runners_wiki_alternative &amp;lt;- wiki_url %&amp;gt;% 
  read_html() %&amp;gt;%
  html_table(fill = TRUE) %&amp;gt;%
  .[[1]]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This option extracts all table from the html page using &lt;code&gt;html_table()&lt;/code&gt;. Using this on the whole page parses the html tables into data frames nesting within a list object. Like before, &lt;code&gt;{rvest}&lt;/code&gt; makes it easy for us and if the tables have inconsistent number of values it requires (or demands?) us to fill them. Once we have the tables in a list object we can extract the one we need using &lt;code&gt;.[[1]]&lt;/code&gt;. The &lt;code&gt;.&lt;/code&gt; acts as a place holder for the previous object passed, in this case the list of tables we scraped. The &lt;code&gt;[[1]]&lt;/code&gt; following that calls for the first object within the list, but in the form of its core class, in this case a &lt;code&gt;class(runners_wiki_alternative)&lt;/code&gt;. If weâ€™d use one square bracket &lt;code&gt;[1]&lt;/code&gt; it would return an object with the original class from which it was drawn, in this case a list which is not good for us here since we anyway want it as a dataframe.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;warngling-the-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Warngling the Data&lt;/h2&gt;
&lt;p&gt;Letâ€™s look at our table to see what we have and what weâ€™ll need to do:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;head(runners_wiki, n = 3)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##        Time          Name   Nationality              Date
## 1 2:55:18.4  Johnny Hayes United States     July 24, 1908
## 2 2:52:45.4 Robert Fowler United States   January 1, 1909
## 3 2:46:52.8   James Clark United States February 12, 1909
##                    Event.Place   Source
## 1       London, United Kingdom IAAF[53]
## 2  Yonkers,[nb 5]United States IAAF[53]
## 3 New York City, United States IAAF[53]
##                                                                                                                                                                                            Notes
## 1 Time was officially recorded as 2:55:18 2/5.[54]Italian Dorando Pietri finished in 2:54:46.4, but was disqualified for receiving assistance from race officials near the finish.[55] Note.[56]
## 2                                                                                                                                                                                      Note.[56]
## 3                                                                                                                                                                                      Note.[56]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A little messey but thatâ€™s OK. What weâ€™ll need to visualize Eliud Kipchogeâ€™s record is the Name, Time and Date of all runners. Weâ€™ll start with cleaning our data:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;runners_clean &amp;lt;- runners_wiki %&amp;gt;% 
  clean_names() %&amp;gt;% 
  select(1,2,4)
str(runners_clean)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## &amp;#39;data.frame&amp;#39;:    50 obs. of  3 variables:
##  $ time: chr  &amp;quot;2:55:18.4&amp;quot; &amp;quot;2:52:45.4&amp;quot; &amp;quot;2:46:52.8&amp;quot; &amp;quot;2:46:04.6&amp;quot; ...
##  $ name: chr  &amp;quot;Johnny Hayes&amp;quot; &amp;quot;Robert Fowler&amp;quot; &amp;quot;James Clark&amp;quot; &amp;quot;Albert Raines&amp;quot; ...
##  $ date: chr  &amp;quot;July 24, 1908&amp;quot; &amp;quot;January 1, 1909&amp;quot; &amp;quot;February 12, 1909&amp;quot; &amp;quot;May 8, 1909&amp;quot; ...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;clean_names&lt;/code&gt; function cleans the column names making them easier to use. I then picked the columns weâ€™ll need using &lt;code&gt;select&lt;/code&gt;. Lastly, we want to look at the variables structure to see if we they need any manipulations. Yes, it seems both the time and date are not recognized appropriately (In this case theyâ€™re characters) - letâ€™s fix that:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;runners_mutate &amp;lt;- runners_clean %&amp;gt;% 
  add_row(time = &amp;quot;1:59:40&amp;quot;, name = &amp;quot;Eliud Kipchoge&amp;quot;, date = &amp;quot;November 12, 2019&amp;quot;) %&amp;gt;% 
  mutate(run_period_raw = hms(time),
         run_duration = as.numeric(run_period_raw, &amp;quot;minutes&amp;quot;),
         run_year = year(mdy(date))) %&amp;gt;% 
  select(c(-date,-time))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: 1 failed to parse.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Letâ€™s see what we did here. First I add Eliud Kipchogeâ€™s new unofficial record as an observation into our dataframe. I then turned to the &lt;code&gt;{lubridate}&lt;/code&gt; package where I used the &lt;code&gt;hms&lt;/code&gt; function to mutate the time variable we had into a new variable called â€˜r_period_rawâ€™. Although this cleans the variable, &lt;code&gt;hms&lt;/code&gt; transforms it into a &lt;code&gt;period&lt;/code&gt; object which I found a little difficult to use when we want to plot. What we need is to turn it into a numeric class which we did in our new variable â€˜run_durationâ€™. This will help us in plotting but I retained the period class variable as it makes it easier to read in this case.&lt;/p&gt;
&lt;p&gt;I then turned the date column into a Month-Day-Year variable using the &lt;code&gt;mdy&lt;/code&gt; function, which eventually I only extracted the year using &lt;code&gt;year&lt;/code&gt;. Lastly I discarded the old columns we donâ€™t need anymore. We also recieved a warning sign that one observation didnâ€™t parse. This was because the value in the cell didnâ€™t match the pattern of the &lt;code&gt;hms&lt;/code&gt; fuction. The original pattern looked like this: May 26, 1909[nb 6]. All we want is the specific year which weâ€™ll probably anyway filter later so itâ€™s no big deal, but letâ€™s go ahead and manually add it if we decide to use it later:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;runners_mutate[5,4] &amp;lt;- 1909&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This brings us the following:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(runners_mutate,aes(x = run_year, y = run_duration))+
  geom_point()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/eliud-kichoge/index_files/figure-html/unnamed-chunk-9-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Great, thatâ€™s a good start. Now we want to make it a little less crowded so we can easily insert an image of runners instead of points and not have it cluttered. In order to do that weâ€™ll look at each several years and lastly at 2019, the current record. First, letâ€™s look at the years we have:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;runners_mutate %&amp;gt;% 
  pull(run_year)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##  [1] 1908 1909 1909 1909 1909 1909 1913 1913 1914 1920 1925 1929 1935 1935 1935
## [16] 1935 1947 1952 1953 1953 1954 1956 1958 1960 1963 1963 1963 1964 1964 1965
## [31] 1967 1969 1970 1974 1978 1980 1981 1984 1985 1988 1998 1999 2002 2003 2007
## [46] 2008 2011 2013 2014 2018 2019&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Using the &lt;code&gt;pull&lt;/code&gt; function we were able to extract the column we wanted, much similar to using the &lt;code&gt;runners_mutate$column_name&lt;/code&gt; approach. â€˜Unfortunatelyâ€™, we canâ€™t filter exactly by round intervals (for example every exact 10 years) so weâ€™ll create a vector with specific years to filter by. Although it might sound trivial, make sure youâ€™re assigning years that are observed in your data set, otherwise itâ€™ll filter only by the years you do have and not those you donâ€™t.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;year_sub &amp;lt;- c(1908, 1920, 1929, 1947, seq(1960,1980,10), 1999, 2011, 2019)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here we created a vector with values for every 15+- years. Now we can filter our new dataframe according to the years we want:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;runners_mutate &amp;lt;- runners_mutate %&amp;gt;% 
 filter(run_year %in% year_sub)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Using the &lt;code&gt;filter&lt;/code&gt; function with &lt;code&gt;%in%&lt;/code&gt; we discard anything from the &lt;code&gt;run_year&lt;/code&gt; column thatâ€™s not in the &lt;code&gt;year_sub&lt;/code&gt; vector. I find &lt;code&gt;%in%&lt;/code&gt; facsinating and extremely helpful when you want to look/filter several parameters. Basically, you can read it as â€œKeep all rows in â€˜run_yearâ€™ that match values in â€˜year_subâ€™â€.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;plot&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Plot&lt;/h2&gt;
&lt;div id=&#34;ggimage&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;ggimage&lt;/h3&gt;
&lt;p&gt;In order for us to plot a runner icon instead of points we need to load the images into our data frame as values for each observation. To do that we use the &lt;code&gt;{ggimage}&lt;/code&gt; package which weâ€™ll also use for the plot.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;runners_mutate &amp;lt;- runners_mutate %&amp;gt;% 
  mutate(run_image = &amp;quot;run.png&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And now letâ€™s look at our new plot:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;g &amp;lt;- ggplot(runners_mutate, aes(x = run_year, y = run_duration))+
  geom_image(aes(image = run_image), size = 0.05)+
  theme_ipsum_rc()
g&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/eliud-kichoge/index_files/figure-html/unnamed-chunk-14-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Not bad. I like the icons although the whole graph might be a bit misleading if readers perceive that these are the only records there are. However, this is a tutorial and weâ€™ll also add that note into our plot momentarily. You can adjust the size and other parameters of the images we plot, here for example I chose to adjust the size from its default. I also added &lt;code&gt;theme_ipsum_rc&lt;/code&gt; from the &lt;code&gt;{hrbrthemes}&lt;/code&gt; package for a quick aesthetic theme I like.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;plot-aesthetics&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Plot Aesthetics&lt;/h3&gt;
&lt;p&gt;So the plot so far looks nice, but we want it to be aesthetic and also to easily understand the progress of records across years. In order to do that, letâ€™s turn to adjust both the y and x axis, and following that add some information to understand what weâ€™re looking at:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;g1 &amp;lt;-  g +
    scale_x_continuous(name = &amp;quot;Year&amp;quot;,
                        limits = c(1900,2025),
                        breaks = seq(1900,2020,10),
                        labels = c(&amp;quot;1900&amp;quot;, paste0(&amp;quot;&amp;#39;&amp;quot;, seq(10,90,10)),&amp;quot;2000&amp;quot;,
&amp;quot;&amp;#39;10&amp;quot;,&amp;quot;&amp;#39;19&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here we added some nice x labels in a format thatâ€™s both concise and informative. I remember taking this from &lt;a href=&#34;https://github.com/LiamDBailey/TidyTuesday/blob/master/R/17_09_2019.R&#34;&gt;Liam Baileyâ€™s&lt;/a&gt; &lt;a href=&#34;https://github.com/rfordatascience/tidytuesday&#34;&gt;#Tidytuesday&lt;/a&gt; plot a while back when i first made this visualiztion. What we did was teak the &lt;code&gt;scale_x_continuous&lt;/code&gt; by assigning a &lt;code&gt;name&lt;/code&gt; to the axis, expanding its &lt;code&gt;limits&lt;/code&gt;, added specific &lt;code&gt;breaks&lt;/code&gt; and then a &lt;code&gt;label&lt;/code&gt; for each break using &lt;code&gt;paste0&lt;/code&gt;. Note that you must have the same number of labels and breaks for the plot to render so itâ€™s important to have the sequences identical in length; otherwise itâ€™ll return an error. With the &lt;code&gt;paste0&lt;/code&gt; we can add any value or observation and then â€˜stickâ€™ to it whatever else we want. Using that we are able to create years in the format of â€™10 and so on. It is also possible to use the &lt;code&gt;{glue}&lt;/code&gt; package which I heard is very intuitive, maybe next post Iâ€™ll give that a try.&lt;/p&gt;
&lt;p&gt;Next, letâ€™s change our y duration axis:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;g2 &amp;lt;- 
  g1 + scale_y_time(name = &amp;quot;Time (hours)&amp;quot;,
                  limits = c(100,180),
                  breaks = seq(100,180,10),
                  labels = c(&amp;quot;1:40&amp;quot;,&amp;quot;1:50&amp;quot;, &amp;quot;2:00&amp;quot;, &amp;quot;2:10&amp;quot;,&amp;quot;2:20&amp;quot;,&amp;quot;2:30&amp;quot;,&amp;quot;2:40&amp;quot;, &amp;quot;2:50&amp;quot;, &amp;quot;3:00&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you recall, we previously mutated the column we read from Wikipedia into a period class and a duration of minutes. using the &lt;code&gt;scale_*_time&lt;/code&gt; (either x or y instead of *) we can work with an &lt;code&gt;hms&lt;/code&gt; object. What we did is add a &lt;code&gt;name&lt;/code&gt;, expand a little the &lt;code&gt;limits&lt;/code&gt;, add &lt;code&gt;breaks&lt;/code&gt; and &lt;code&gt;labels&lt;/code&gt; same as before. This time around we used our breaks as minutes, so every 60 minutes represents an hour. I initially used hours as the numeric value, but then it makes it harder to break every 10 minutes (thatâ€™ll mean breaks every 0.166â€¦). For the labels I was having some problems automating it so I comprimised on manually inputting it; I guess sometimes you just have to choose your battles between automating and manualy inserting.&lt;/p&gt;
&lt;p&gt;Letâ€™s finish up by adding a title, subtitle and integrating last aesthetics to our plot.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;g3 &amp;lt;- g2 +
  labs(title = &amp;quot;How does Eliud Kipchoge marathon score compare to previous yearly records?&amp;quot;,
       subtitle = &amp;quot;Points are world records for every 10-15 years. \nEliud Kipchoge is the first to break the two-hour barrier (unofficially), Great job!&amp;quot;)+
    theme(
      panel.grid.minor = element_blank(),
      panel.grid.major = element_line(colour = &amp;quot;gray75&amp;quot;, size = 0.1, linetype = &amp;quot;dashed&amp;quot;),
      plot.title = element_text(size = 14),
      plot.subtitle = element_text(size = 10)
      )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;After adding some labs I tweaked a bit the gridlines using &lt;code&gt;panel.grid&lt;/code&gt; minor or major. You can play around with them to see which minimilize your plot in the perfect way. I chose to leave the major grid lines since I find it easier to read the values with them. Although we defined a theme earlier on we can still tweak it by adding another &lt;code&gt;theme&lt;/code&gt; argument to the previous one as we just did.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;final-annotation&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Final annotation&lt;/h3&gt;
&lt;p&gt;Lastly, we want the new record to be evident and stand out in a first glance. Here I was somewhat debating between using a regular &lt;code&gt;geom_point&lt;/code&gt; instead of the &lt;code&gt;geom_image&lt;/code&gt; because then we could easily use a vertical line to highlight the 2:00 hour threshold. Since a line in this case will cut right through the icon, letâ€™s use an arrow annotation instead.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;g4 &amp;lt;- g3 +
  geom_curve(aes(x = 2018, y = 120, xend = 2015, yend = 113),
             colour = &amp;quot;black&amp;quot;, size = 0.9, curvature = 0.5,
             arrow = arrow(length = unit(2,&amp;quot;mm&amp;quot;), type = &amp;quot;closed&amp;quot;))+
  annotate(&amp;quot;text&amp;quot;, x=2010, y= 105, 
           label = &amp;quot;Eliud Kipchoge\n12.10.2019\n1:59:40&amp;quot;,
           color = &amp;quot;black&amp;quot;, size = 3, hjust = 0)

g4&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/eliud-kichoge/index_files/figure-html/unnamed-chunk-18-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;And voila!&lt;/p&gt;
&lt;p&gt;In our final touches we added both an arrow and text to explain what weâ€™re seeing. I decided to go with a &lt;code&gt;geom_curve&lt;/code&gt; arrow where we can set the start and end of the arrow along with the kind of curve we want. We then set the curve to be &lt;code&gt;arrow&lt;/code&gt; and adjust its length. You can also use a closed head arrow, for more on that read on &lt;code&gt;?arrow&lt;/code&gt; as part of the &lt;code&gt;geom_curve&lt;/code&gt; or &lt;code&gt;geom_segment&lt;/code&gt; you can use here.&lt;/p&gt;
&lt;p&gt;Thatâ€™s it, seems like were good to go. &lt;strong&gt;Great job for Elihud Kipchoge&lt;/strong&gt; ğŸ‘&lt;br /&gt;
&lt;/br&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;appendix&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Appendix&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;When I initially created this visulization I was just starting with &lt;code&gt;R&lt;/code&gt;. I first created 11 slots, added 1921, the sequence of 1930-2010 and then a 2019 (reminder: When I first created this viz I took a different dataset altogether). Little did I know how to properly use the &lt;code&gt;c()&lt;/code&gt; function that we used in the current post.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;year.sub &amp;lt;- vector (&amp;quot;double&amp;quot;, 11)
year.sub[1] &amp;lt;- 1921
year.sub[2:10] &amp;lt;- seq(1930,2010,10)
year.sub[11] &amp;lt;- 2019&lt;/code&gt;&lt;/pre&gt;
&lt;center&gt;
&lt;a href=&#34;#top&#34;&gt; Back to top&lt;/a&gt;
&lt;/center&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Mapping bomb shelters in Be&#39;er-Sheva, IL</title>
      <link>/2020/01/14/bomb-shelters/</link>
      <pubDate>Tue, 14 Jan 2020 00:00:00 +0000</pubDate>
      <guid>/2020/01/14/bomb-shelters/</guid>
      <description>
&lt;script src=&#34;/rmarkdown-libs/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/jquery/jquery.min.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;/rmarkdown-libs/leaflet/leaflet.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;/rmarkdown-libs/leaflet/leaflet.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;/rmarkdown-libs/leafletfix/leafletfix.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;/rmarkdown-libs/leaflet-binding/leaflet.js&#34;&gt;&lt;/script&gt;


&lt;div id=&#34;update-from-march-21-2020&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;&lt;a id=&#34;update&#34;&gt;&lt;/a&gt;&lt;strong&gt;Update from March 21, 2020&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;Iâ€™ve been wanting to return to this post and make this map more interactive. As a matter of fact it was easier than I thought, I just never got around to doing it. I wonâ€™t be going through the code for the leaflet map below but will leave it for whoever would like to review it:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(leaflet)
library(magrittr)
readr::read_csv(&amp;quot;shelters.csv&amp;quot;) %&amp;gt;% 
leaflet() %&amp;gt;% 
  addTiles() %&amp;gt;% 
  setView(34.7913, 31.25181,zoom = 13) %&amp;gt;% 
  addCircles(radius = 4, color = &amp;quot;red&amp;quot;, fill = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-1&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;leaflet html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-1&#34;&gt;{&#34;x&#34;:{&#34;options&#34;:{&#34;crs&#34;:{&#34;crsClass&#34;:&#34;L.CRS.EPSG3857&#34;,&#34;code&#34;:null,&#34;proj4def&#34;:null,&#34;projectedBounds&#34;:null,&#34;options&#34;:{}}},&#34;calls&#34;:[{&#34;method&#34;:&#34;addTiles&#34;,&#34;args&#34;:[&#34;//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&#34;,null,null,{&#34;minZoom&#34;:0,&#34;maxZoom&#34;:18,&#34;tileSize&#34;:256,&#34;subdomains&#34;:&#34;abc&#34;,&#34;errorTileUrl&#34;:&#34;&#34;,&#34;tms&#34;:false,&#34;noWrap&#34;:false,&#34;zoomOffset&#34;:0,&#34;zoomReverse&#34;:false,&#34;opacity&#34;:1,&#34;zIndex&#34;:1,&#34;detectRetina&#34;:false,&#34;attribution&#34;:&#34;&amp;copy; &lt;a href=\&#34;http://openstreetmap.org\&#34;&gt;OpenStreetMap&lt;\/a&gt; contributors, &lt;a href=\&#34;http://creativecommons.org/licenses/by-sa/2.0/\&#34;&gt;CC-BY-SA&lt;\/a&gt;&#34;}]},{&#34;method&#34;:&#34;addCircles&#34;,&#34;args&#34;:[[31.259018768,31.2597950910001,31.2592493760001,31.2573049280001,31.2574797520001,31.258424086,31.254246294,31.255173057,31.2556456460001,31.253666206,31.2537330280001,31.2569812850001,31.2570752350001,31.257608025,31.2575462630001,31.2700855640001,31.2702905,31.2695012190001,31.2658482960001,31.259725431,31.2646111440001,31.266921333,31.2604320470001,31.2596058720001,31.262762868,31.263789048,31.261942934,31.2638102080001,31.2632644710001,31.263504445,31.262432614,31.2708580180001,31.2711996570001,31.270725645,31.2712747300001,31.2718630300001,31.2720855330001,31.2726126790001,31.272427384,31.2704051920001,31.266736774,31.2628119170001,31.2455927190001,31.248994151,31.250188747,31.2459192310001,31.24676858,31.2479923820001,31.2478412890001,31.249363784,31.250175772,31.248725547,31.248610904,31.251846362,31.2518736100001,31.250946067,31.253505949,31.257884104,31.2540270010001,31.2559118880001,31.2710156910001,31.271205497,31.270356722,31.269982842,31.2698227120001,31.269304209,31.269990116,31.2687801060001,31.2682527530001,31.2683451450001,31.270695158,31.27323147,31.2733343200001,31.2737922810001,31.2728741080001,31.274249592,31.2746572610001,31.272394175,31.2739432400001,31.2744760080001,31.2717045570001,31.2729638220001,31.2757156430001,31.2741278410001,31.2746324350001,31.274596902,31.271494137,31.2718457610001,31.275141078,31.275589424,31.2759297440001,31.2649303200001,31.270103943,31.2659409890001,31.2669887380001,31.2697833300001,31.2704315440001,31.266575474,31.266131746,31.221500807,31.224164194,31.223587228,31.2258336940001,31.222024801,31.2197570490001,31.221235918,31.224912993,31.224000586,31.2261810250001,31.223021734,31.2238066,31.2209769780001,31.222977471,31.2321786260001,31.2324369340001,31.2431229220001,31.235916617,31.238806793,31.237065128,31.248259068,31.251491909,31.2504392380001,31.2504933070001,31.2518083160001,31.246153377,31.250630739,31.25563615,31.256696517,31.254957205,31.257290099,31.25460144,31.256567933,31.255031301,31.2575173870001,31.2579245330001,31.2579056490001,31.2226565670001,31.224564345,31.2426843960001,31.240248009,31.2399610090001,31.267945217,31.2638298580001,31.270236595,31.269875347,31.265144816,31.2690648330001,31.2681699770001,31.269377084,31.265713315,31.270953035,31.2722040720001,31.2645033750001,31.271228369,31.2715811,31.256697924,31.257101161,31.269666226,31.275281239,31.274241079,31.269109099,31.272405753,31.2598086400001,31.250707328,31.251678113,31.2525321090001,31.2486613240001,31.2554510690001,31.2490194850001,31.2670087990001,31.2682888350001,31.269309503,31.250801417,31.268097267,31.2679672850001,31.267170004,31.261017135,31.2604871560001,31.261171405,31.260286697,31.260856463,31.258957008,31.2669088850001,31.264312395,31.2644250700001,31.262675503,31.262628384,31.266354108,31.2378694280001,31.237196182,31.2522976180001,31.2551276230001,31.2555366730001,31.271009238,31.2697859260001,31.248898803,31.250194783,31.250113594,31.248703956,31.2482595930001,31.247643195,31.252913957,31.2562439010001,31.250285107,31.2561600820001,31.2510416860001,31.249713179,31.258150351,31.2590159170001,31.2581197600001,31.25558649,31.2571552970001,31.254918092,31.2545320300001,31.2465726200001,31.2520725430001,31.261599754,31.2721663470001,31.270971611,31.2616581070001,31.264973377,31.2658491130001,31.2688886780001,31.2683040970001,31.2707125310001,31.271428288,31.254769068,31.257070663,31.2465921090001,31.2692059390001,31.2443915640001,31.2314304170001,31.269208157,31.269363072,31.270308577,31.2595743270001,31.2700607460001,31.2564875580001,31.2479156200001,31.2481547410001,31.254812955,31.266566502,31.2504635080001,31.2541823770001,31.2683791260001,31.271307544,31.2482951640001,31.2737507580001,31.272590789,31.2570404000001,31.252699315,31.2517972700001,31.2663416,31.2709878490001,31.2660293330001,31.25408293,31.2701366480001,31.2402113960001,31.2646567780001,31.2463304390001,31.2347788370001,31.252428283],[34.808214546,34.8078915740001,34.809368438,34.8093634950001,34.810975436,34.810334568,34.805622382,34.8026935250001,34.804473768,34.8095251010001,34.8075520780001,34.808555186,34.7651206140001,34.76364862,34.7628454490001,34.778674504,34.7777073990001,34.7762277100001,34.770138844,34.7869285290001,34.795184944,34.7997725760001,34.7940810010001,34.7916208840001,34.7906790590001,34.79068958,34.7927366010001,34.79231459,34.7927492380001,34.792743929,34.7905235110001,34.7883433920001,34.7867639080001,34.785602972,34.7852056130001,34.787070295,34.787588817,34.7939116200001,34.7924905290001,34.7941080740001,34.8014500780001,34.792161772,34.7956425140001,34.7970971840001,34.7970376860001,34.7936621440001,34.7914949660001,34.784890746,34.787583614,34.7873553950001,34.7857147330001,34.779422326,34.7796193240001,34.7841264850001,34.7828629210001,34.7779282610001,34.782604796,34.7832538050001,34.7900850610001,34.7963698560001,34.806238138,34.8089210210001,34.809585251,34.8086036290001,34.809357278,34.8091260510001,34.8067740120001,34.8089092710001,34.8086805990001,34.8079129270001,34.804323229,34.800439962,34.8088667390001,34.8085067230001,34.809244467,34.808135475,34.8077908650001,34.8096215740001,34.8069308010001,34.806502575,34.8037255140001,34.802776814,34.802732577,34.8024465140001,34.8025668970001,34.804125362,34.802364975,34.8055181280001,34.8074389120001,34.8070149960001,34.8064910510001,34.7604294980001,34.7639117040001,34.765621094,34.7664207510001,34.7608955090001,34.7630732060001,34.7598450790001,34.7611068100001,34.775540274,34.7789006310001,34.7774103090001,34.778600274,34.7726666250001,34.773724196,34.7718155210001,34.775669044,34.780235401,34.780269586,34.7763314490001,34.775308716,34.7743583120001,34.7736159990001,34.7923748970001,34.78033953,34.779738781,34.784380764,34.7847258240001,34.7817552400001,34.792498504,34.7868126540001,34.789983894,34.789128825,34.787953332,34.7942136410001,34.7945532960001,34.7903546790001,34.7959888820001,34.7941725480001,34.795403445,34.7891443610001,34.793907173,34.7965042000001,34.7892947980001,34.781547866,34.783656121,34.7751580730001,34.780917947,34.781822312,34.781617833,34.783344335,34.7623511370001,34.762642929,34.771785949,34.7709577200001,34.7636153930001,34.7619093160001,34.7644633370001,34.764872847,34.7577812160001,34.770979358,34.765673103,34.7643799360001,34.767547478,34.769529817,34.773305672,34.773415368,34.805293723,34.805267585,34.800891017,34.808306987,34.806721075,34.8088518340001,34.8019847370001,34.8065743970001,34.810013871,34.8081264090001,34.7780347280001,34.782620235,34.7707858410001,34.7723190740001,34.774894422,34.77918176,34.7948698500001,34.7970907800001,34.795007293,34.79702511,34.7965872190001,34.795338615,34.7935443280001,34.7929193080001,34.7929353970001,34.7939598030001,34.795247798,34.797073217,34.7944644400001,34.7974265890001,34.792997642,34.785492021,34.7889980750001,34.804945893,34.8100962180001,34.808716111,34.783396279,34.7850399330001,34.795998975,34.805139436,34.8028419560001,34.8061534390001,34.804344707,34.807264053,34.81146289,34.806185188,34.806567597,34.81037658,34.80369548,34.8085987040001,34.811233825,34.809843013,34.8094435680001,34.8080172910001,34.810334235,34.8070907060001,34.8035195030001,34.8086055260001,34.802861137,34.7937478430001,34.7956186760001,34.793586141,34.7919188430001,34.79992937,34.801187988,34.8012474810001,34.792345267,34.7969623870001,34.794766757,34.8086733960001,34.80687017,34.776587685,34.79294107,34.791070099,34.7935582580001,34.7954634880001,34.7948531970001,34.7868227160001,34.7857320460001,34.795653003,34.791395838,34.7796560830001,34.781008178,34.77898084,34.794873022,34.780569927,34.8023777060001,34.7968104340001,34.7835412000001,34.7892121180001,34.807038339,34.8080192800001,34.8085495820001,34.779316936,34.8025542940001,34.7698468990001,34.8072728060001,34.8008629990001,34.8116456560001,34.7842904080001,34.7950379800001,34.7961240610001,34.8083349930001,34.7825503890001,34.808149154],4,null,null,{&#34;interactive&#34;:true,&#34;className&#34;:&#34;&#34;,&#34;stroke&#34;:true,&#34;color&#34;:&#34;red&#34;,&#34;weight&#34;:5,&#34;opacity&#34;:0.5,&#34;fill&#34;:true,&#34;fillColor&#34;:&#34;red&#34;,&#34;fillOpacity&#34;:0.2},null,null,null,{&#34;interactive&#34;:false,&#34;permanent&#34;:false,&#34;direction&#34;:&#34;auto&#34;,&#34;opacity&#34;:1,&#34;offset&#34;:[0,0],&#34;textsize&#34;:&#34;10px&#34;,&#34;textOnly&#34;:false,&#34;className&#34;:&#34;&#34;,&#34;sticky&#34;:true},null,null]}],&#34;setView&#34;:[[31.25181,34.7913],13,[]],&#34;limits&#34;:{&#34;lat&#34;:[31.2197570490001,31.2759297440001],&#34;lng&#34;:[34.7577812160001,34.8116456560001]}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;original-post&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;&lt;strong&gt;Original post&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;Iâ€™ve been wanting to learn how to use maps in R for a while before creating the map in this post. Seeing dataframes with longitude and latitude coordinates on various occasions on &lt;a href=&#34;https://github.com/rfordatascience/tidytuesday&#34;&gt;#Tidytuesday&lt;/a&gt; encouraged me to do so.&lt;br /&gt;
A day before this visualizaiton, I discovered our municupalityâ€™s open access data &lt;a href=&#34;https://www.beer-sheva.muni.il/OpenData/Pages/default.aspx&#34;&gt;website&lt;/a&gt;. In this website you can find various datasets like street light coordinates, bomb shelters spread out in the city and more. A day after discovering it Israel, the country I live in, was fired missiles at. I decided to take the opportunity and map some of the shelters around my house. You know, just in case.&lt;/p&gt;
&lt;p&gt;Letâ€™s begin with the packages (ğŸ“¦) weâ€™ll need:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#for data manipulation
library(tidyverse)
#for a nice map
library(ggmap)
#for reading and working with .geojson file
library(geojsonio)
library(sp)
#for integrating a nice font
library(extrafont)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;loading-and-tidying-the-data&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Loading and tidying the data&lt;/h3&gt;
&lt;p&gt;I initially tried using the &lt;code&gt;.csv&lt;/code&gt; file they have on their webiste but I was having too much trouble with the Hebrew so I decided to try and work with the &lt;code&gt;geojsonio&lt;/code&gt; package. I had no idea how to work with a &lt;code&gt;.geojson&lt;/code&gt; file or frankly how to work with maps in general. To my save, i found this incredible blog by &lt;a href=&#34;https://randomjohn.github.io/r-geojson-srt/&#34;&gt;John Johnson&lt;/a&gt; to help me transform a â€˜geomjsonâ€™ file to a dataframe you can work with.&lt;/p&gt;
&lt;p&gt;Letâ€™s begin:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#read the .geojson file
my_geojson &amp;lt;- &amp;quot;shelters.geojson&amp;quot;
#convert the .geojson file to an sp object
data_json &amp;lt;- geojson_read(my_geojson, what = &amp;quot;sp&amp;quot;)
#now we can convert it to a nice data frame
shelters &amp;lt;- as.data.frame(data_json)
#last tidying of the column names
names(shelters)[6:7] &amp;lt;- c(&amp;quot;long&amp;quot;, &amp;quot;lat&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What we did was load the geojson file, read it as an â€˜spâ€™ object and then turn it into to a dataframe. I changed the names so that itâ€™ll be easier to read the columns. we could also use &lt;code&gt;dplyr::rename&lt;/code&gt; but I liked the base R function Johnson used in his blog so Iâ€™ll stick with that.&lt;br /&gt;
letâ€™s look at the top 3 observations of our new data frame:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;##       long      lat        name X.U.05E7..U.05D5..U.05D3._.U.05E1.
## 1 34.80821 31.25902  &amp;lt;U+05D2&amp;gt;/2                                 17
## 2 34.80789 31.25980  &amp;lt;U+05D2&amp;gt;/1                                 17
## 3 34.80937 31.25925 &amp;lt;U+05D2&amp;gt;/25                                 17
##                elc group_ F_.U.05E6..U.05D5..U.05D5..U.05EA.
## 1 &amp;lt;U+05D9&amp;gt;&amp;lt;U+05E9&amp;gt;      0                                   
## 2 &amp;lt;U+05D9&amp;gt;&amp;lt;U+05E9&amp;gt;      0                                   
## 3 &amp;lt;U+05D9&amp;gt;&amp;lt;U+05E9&amp;gt;      0&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Ugh, well the names werenâ€™t read well into &lt;code&gt;R&lt;/code&gt;. While this isnâ€™t a big issue to resolve, I donâ€™t find it necessary for the final piece. the names of the shelters are anyway in Hebrew and only represnt a letter and some sort of number (for e.g, A/23, only in Hebrew). Therefore weâ€™ll leave it as is since what Iâ€™m interested in is the longitude and latitude coordinations and for that we donâ€™t need the character column.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;retrieving-the-map&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Retrieving the map&lt;/h3&gt;
&lt;p&gt;So we have our data frame with long and lat points, letâ€™s get our map. I want a map that can be readable in terms of streets and roads, therefore Iâ€™ll give the &lt;code&gt;ggmap&lt;/code&gt; package a try&lt;a href=&#34;#fn1&#34; class=&#34;footnote-ref&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;. Google requires you to register in order to recieve an API key to pull maps to plot. Unfortunately I wonâ€™t cover how to regiser in this blog post but Iâ€™m sure you can find plenty of tutorials addressing it online.&lt;br /&gt;
Letâ€™s get Beâ€™er-Shevaâ€™s map:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;b7_map &amp;lt;- get_map(location = c(34.7913 , 31.25181), 
              zoom = 13, scale = 2, maptype = &amp;quot;roadmap&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What we did here was use the &lt;code&gt;get_map&lt;/code&gt; function to pull the map according to the long and lat coordinates I gave it of Beâ€™er-Sheva. You should first pass the longitude and then the latitude in the &lt;code&gt;location&lt;/code&gt; argument. In addition you can change other features such as the zoom level, the maptype and more as we saw here (See &lt;code&gt;?get_map&lt;/code&gt; for more info).&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;plot&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Plot&lt;/h3&gt;
&lt;p&gt;Now that we have our data set ready and the map as an object we can go on to plot it. ggmap extends ggplot features so we can run the data frame smoothly into the &lt;code&gt;ggmap&lt;/code&gt; function:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggmap(b7_map)+
  geom_point(shelters, mapping = aes(long,lat),
            color = &amp;quot;red&amp;quot;, size = 0.3, shape = 15)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/bomb-shelters/index_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;What we did was pass the b7_map as an object into the &lt;code&gt;ggmap&lt;/code&gt; function and add a geom, in this case &lt;code&gt;geom_point&lt;/code&gt; representing our shelter coordinates. However, this map doesnâ€™t really help me in a time of need since it doesnâ€™t show &lt;em&gt;my address&lt;/em&gt; clearly.&lt;/p&gt;
&lt;p&gt;Letâ€™s try zooming in so that we can see what weâ€™re looking at:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#retreiving a new map with a greater `zoom`
b7_map_zoom &amp;lt;- get_map(location = c(34.7913 , 31.25181), 
                    zoom = 16, scale = 2, maptype = &amp;quot;roadmap&amp;quot;)

p &amp;lt;- ggmap(b7_map_zoom)+
geom_point(shelters, mapping = aes(long,lat), color = &amp;quot;red&amp;quot;,
           size = 3, shape = 15)
p&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/bomb-shelters/index_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Much nicer and clearer. Using the zoom option in &lt;code&gt;get_map&lt;/code&gt; enables to center more on where I want. Great, this shows me some bomb shetlers I have around me in a time of need. Letâ€™s add some fine tuning for our theme:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p+  
#for the title, caption and removing the X and Y axis
  labs (title = &amp;quot;Neighborhood B, Beer-Sheva, Israel, bomb shelters&amp;quot;,
        x = NULL, y = NULL,
        caption = &amp;quot;data: www.beer-sheva.muni.il | @Amit_Levinson&amp;quot;)+
  theme_minimal()+
  theme(text = element_text(family = &amp;quot;Microsoft Tai Le&amp;quot;),
    #Changing the position of the title
    plot.title = element_text(hjust = 0.5, size = 20, face = &amp;quot;bold&amp;quot;),
    axis.text = element_blank(),
    plot.caption = element_text(size = 9, face = &amp;quot;italic&amp;quot;, hjust = 0),
    panel.border = element_rect(color = &amp;quot;black&amp;quot;, size=2, fill = NA)
  )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/bomb-shelters/index_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Perfect, I can now save the plot and distribute it if someone needs it.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggsave(&amp;quot;shelters_b_eng.png&amp;quot;, width = 8, height = 8)&lt;/code&gt;&lt;/pre&gt;
&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;1.  I&amp;#39;ve been wanting to learn to plot maps in &lt;a href=&#34;https://twitter.com/hashtag/rstats?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#rstats&lt;/a&gt;&lt;br&gt;2. Yesterday I encountered open data our municipality publishes&lt;br&gt;3. Today missiles are fired towards Israel in response to assassination of a top terrorist.&lt;br&gt;&lt;br&gt;1+2+3: Plotting bomb shelter locations near where I live&lt;a href=&#34;https://twitter.com/hashtag/ggmap?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ggmap&lt;/a&gt; &lt;a href=&#34;https://t.co/4Irz0ZKuZr&#34;&gt;pic.twitter.com/4Irz0ZKuZr&lt;/a&gt;&lt;/p&gt;&amp;mdash; Amit Levinson (@Amit_Levinson) &lt;a href=&#34;https://twitter.com/Amit_Levinson/status/1194274713759039488?ref_src=twsrc%5Etfw&#34;&gt;November 12, 2019&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;

&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;For a first map I decided to go with a static one, but an interactive one can defenitely be a 2.0 version of this blog (as you saw with the &lt;a href=&#34;#update&#34;&gt;March 21st update&lt;/a&gt;. Hopefully we wonâ€™t need it.&lt;a href=&#34;#fnref1&#34; class=&#34;footnote-back&#34;&gt;â†©&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>An example preprint / working paper</title>
      <link>/publication/preprint/</link>
      <pubDate>Sun, 07 Apr 2019 00:00:00 +0000</pubDate>
      <guid>/publication/preprint/</guid>
      <description>&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;Supplementary notes can be added here, including &lt;a href=&#34;https://sourcethemes.com/academic/docs/writing-markdown-latex/&#34;&gt;code and math&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Slides</title>
      <link>/slides/example/</link>
      <pubDate>Tue, 05 Feb 2019 00:00:00 +0000</pubDate>
      <guid>/slides/example/</guid>
      <description>&lt;h1 id=&#34;create-slides-in-markdown-with-academic&#34;&gt;Create slides in Markdown with Academic&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://sourcethemes.com/academic/&#34;&gt;Academic&lt;/a&gt; | &lt;a href=&#34;https://sourcethemes.com/academic/docs/managing-content/#create-slides&#34;&gt;Documentation&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;features&#34;&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Efficiently write slides in Markdown&lt;/li&gt;
&lt;li&gt;3-in-1: Create, Present, and Publish your slides&lt;/li&gt;
&lt;li&gt;Supports speaker notes&lt;/li&gt;
&lt;li&gt;Mobile friendly slides&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;controls&#34;&gt;Controls&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Next: &lt;code&gt;Right Arrow&lt;/code&gt; or &lt;code&gt;Space&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Previous: &lt;code&gt;Left Arrow&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Start: &lt;code&gt;Home&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Finish: &lt;code&gt;End&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Overview: &lt;code&gt;Esc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Speaker notes: &lt;code&gt;S&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Fullscreen: &lt;code&gt;F&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Zoom: &lt;code&gt;Alt + Click&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/hakimel/reveal.js#pdf-export&#34;&gt;PDF Export&lt;/a&gt;: &lt;code&gt;E&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;code-highlighting&#34;&gt;Code Highlighting&lt;/h2&gt;
&lt;p&gt;Inline code: &lt;code&gt;variable&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Code block:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;porridge &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;blueberry&amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; porridge &lt;span style=&#34;color:#f92672&#34;&gt;==&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;blueberry&amp;#34;&lt;/span&gt;:
    &lt;span style=&#34;color:#66d9ef&#34;&gt;print&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Eating...&amp;#34;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;math&#34;&gt;Math&lt;/h2&gt;
&lt;p&gt;In-line math: $x + y = z$&lt;/p&gt;
&lt;p&gt;Block math:&lt;/p&gt;
&lt;p&gt;$$
f\left( x \right) = ;\frac{{2\left( {x + 4} \right)\left( {x - 4} \right)}}{{\left( {x + 4} \right)\left( {x + 1} \right)}}
$$&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;fragments&#34;&gt;Fragments&lt;/h2&gt;
&lt;p&gt;Make content appear incrementally&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{{% fragment %}} One {{% /fragment %}}
{{% fragment %}} **Two** {{% /fragment %}}
{{% fragment %}} Three {{% /fragment %}}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Press &lt;code&gt;Space&lt;/code&gt; to play!&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;
One
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;strong&gt;Two&lt;/strong&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
Three
&lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;A fragment can accept two optional parameters:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;class&lt;/code&gt;: use a custom style (requires definition in custom CSS)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;weight&lt;/code&gt;: sets the order in which a fragment appears&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;speaker-notes&#34;&gt;Speaker Notes&lt;/h2&gt;
&lt;p&gt;Add speaker notes to your presentation&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;{{% speaker_note %}}
&lt;span style=&#34;color:#66d9ef&#34;&gt;-&lt;/span&gt; Only the speaker can read these notes
&lt;span style=&#34;color:#66d9ef&#34;&gt;-&lt;/span&gt; Press &lt;span style=&#34;color:#e6db74&#34;&gt;`S`&lt;/span&gt; key to view
{{% /speaker_note %}}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Press the &lt;code&gt;S&lt;/code&gt; key to view the speaker notes!&lt;/p&gt;
&lt;aside class=&#34;notes&#34;&gt;
  &lt;ul&gt;
&lt;li&gt;Only the speaker can read these notes&lt;/li&gt;
&lt;li&gt;Press &lt;code&gt;S&lt;/code&gt; key to view&lt;/li&gt;
&lt;/ul&gt;

&lt;/aside&gt;
&lt;hr&gt;
&lt;h2 id=&#34;themes&#34;&gt;Themes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;black: Black background, white text, blue links (default)&lt;/li&gt;
&lt;li&gt;white: White background, black text, blue links&lt;/li&gt;
&lt;li&gt;league: Gray background, white text, blue links&lt;/li&gt;
&lt;li&gt;beige: Beige background, dark text, brown links&lt;/li&gt;
&lt;li&gt;sky: Blue background, thin dark text, blue links&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;night: Black background, thick white text, orange links&lt;/li&gt;
&lt;li&gt;serif: Cappuccino background, gray text, brown links&lt;/li&gt;
&lt;li&gt;simple: White background, black text, blue links&lt;/li&gt;
&lt;li&gt;solarized: Cream-colored background, dark green text, blue links&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;

&lt;section data-noprocess data-shortcode-slide
  
      
      data-background-image=&#34;/img/boards.jpg&#34;
  &gt;

&lt;h2 id=&#34;custom-slide&#34;&gt;Custom Slide&lt;/h2&gt;
&lt;p&gt;Customize the slide style and background&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-markdown&#34; data-lang=&#34;markdown&#34;&gt;{{&amp;lt; &lt;span style=&#34;color:#f92672&#34;&gt;slide&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;background-image&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;/img/boards.jpg&amp;#34;&lt;/span&gt; &amp;gt;}}
{{&amp;lt; &lt;span style=&#34;color:#f92672&#34;&gt;slide&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;background-color&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;#0000FF&amp;#34;&lt;/span&gt; &amp;gt;}}
{{&amp;lt; &lt;span style=&#34;color:#f92672&#34;&gt;slide&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;my-style&amp;#34;&lt;/span&gt; &amp;gt;}}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;custom-css-example&#34;&gt;Custom CSS Example&lt;/h2&gt;
&lt;p&gt;Let&amp;rsquo;s make headers navy colored.&lt;/p&gt;
&lt;p&gt;Create &lt;code&gt;assets/css/reveal_custom.css&lt;/code&gt; with:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-css&#34; data-lang=&#34;css&#34;&gt;.&lt;span style=&#34;color:#a6e22e&#34;&gt;reveal&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;section&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;h1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;
.&lt;span style=&#34;color:#a6e22e&#34;&gt;reveal&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;section&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;h2&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;,&lt;/span&gt;
.&lt;span style=&#34;color:#a6e22e&#34;&gt;reveal&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;section&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;h3&lt;/span&gt; {
  &lt;span style=&#34;color:#66d9ef&#34;&gt;color&lt;/span&gt;: &lt;span style=&#34;color:#66d9ef&#34;&gt;navy&lt;/span&gt;;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h1 id=&#34;questions&#34;&gt;Questions?&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://spectrum.chat/academic&#34;&gt;Ask&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sourcethemes.com/academic/docs/managing-content/#create-slides&#34;&gt;Documentation&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>/privacy/</link>
      <pubDate>Thu, 28 Jun 2018 00:00:00 +0100</pubDate>
      <guid>/privacy/</guid>
      <description>&lt;p&gt;&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>/terms/</link>
      <pubDate>Thu, 28 Jun 2018 00:00:00 +0100</pubDate>
      <guid>/terms/</guid>
      <description>&lt;p&gt;&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>External Project</title>
      <link>/project/external-project/</link>
      <pubDate>Wed, 27 Apr 2016 00:00:00 +0000</pubDate>
      <guid>/project/external-project/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Internal Project</title>
      <link>/project/internal-project/</link>
      <pubDate>Wed, 27 Apr 2016 00:00:00 +0000</pubDate>
      <guid>/project/internal-project/</guid>
      <description>&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.&lt;/p&gt;
&lt;p&gt;Nullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.&lt;/p&gt;
&lt;p&gt;Cras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.&lt;/p&gt;
&lt;p&gt;Suspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.&lt;/p&gt;
&lt;p&gt;Aliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>An example journal article</title>
      <link>/publication/journal-article/</link>
      <pubDate>Tue, 01 Sep 2015 00:00:00 +0000</pubDate>
      <guid>/publication/journal-article/</guid>
      <description>&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;Supplementary notes can be added here, including &lt;a href=&#34;https://sourcethemes.com/academic/docs/writing-markdown-latex/&#34;&gt;code and math&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>An example conference paper</title>
      <link>/publication/conference-paper/</link>
      <pubDate>Mon, 01 Jul 2013 00:00:00 +0000</pubDate>
      <guid>/publication/conference-paper/</guid>
      <description>&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;Supplementary notes can be added here, including &lt;a href=&#34;https://sourcethemes.com/academic/docs/writing-markdown-latex/&#34;&gt;code and math&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
